<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Validations | graphql-mocks</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Validations | graphql-mocks"><meta data-react-helmet="true" name="description" content="Validations are a powerful feature that keep the DocumentStore in check and maintain consistency after every transaction. They flexibly describe and define the set of rules to which the Document Store must conform to."><meta data-react-helmet="true" property="og:description" content="Validations are a powerful feature that keep the DocumentStore in check and maintain consistency after every transaction. They flexibly describe and define the set of rules to which the Document Store must conform to."><meta data-react-helmet="true" property="og:url" content="http://www.graphql-mocks.com/docs/paper/validations"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="http://www.graphql-mocks.com/docs/paper/validations"><link rel="stylesheet" href="/styles.dccba457.css">
<link rel="preload" href="/styles.e1f10985.js" as="script">
<link rel="preload" href="/runtime~main.9a6af0d8.js" as="script">
<link rel="preload" href="/main.b72d448a.js" as="script">
<link rel="preload" href="/1.49ab99cb.js" as="script">
<link rel="preload" href="/2.5cd49a1a.js" as="script">
<link rel="preload" href="/233.50edff6b.js" as="script">
<link rel="preload" href="/234.9d57370b.js" as="script">
<link rel="preload" href="/935f2afb.82f58c21.js" as="script">
<link rel="preload" href="/17896441.62dea231.js" as="script">
<link rel="preload" href="/74cf055a.8a1069bf.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<script data-domain="graphql-mocks.com" defer="defer" src="https://plausible.io/js/plausible.js"></script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="graphql-mocks logo"><strong class="navbar__title">graphql-mocks</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started/introduction">Docs</a><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" href="/api">API</a><a href="https://discord.gg/eJxddt2CJS" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord</a><a href="https://github.com/graphql-mocks/graphql-mocks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="graphql-mocks logo"><strong class="navbar__title">graphql-mocks</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started/introduction">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link" href="/api">API</a></li><li class="menu__list-item"><a href="https://discord.gg/eJxddt2CJS" target="_blank" rel="noopener noreferrer" class="menu__link">Discord</a></li><li class="menu__list-item"><a href="https://github.com/graphql-mocks/graphql-mocks" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3G3U"><div class="docSidebarContainer_2HHq" role="complementary"><div class="sidebar_1xH1"><div class="menu menu--responsive menu_3E8f"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1XLy" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/create-handler">Creating a GraphQL Handler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/concepts">Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/quick-example">Quick Example</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resolver &amp; Wrappers </a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver/using-resolvers">Using Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver/introducing-wrappers">Introducing Resolver Wrappers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver/applying-wrappers">Applying Wrappers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver/available-wrappers">Available Wrappers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver/creating-wrappers">Creating Custom Wrappers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Resolver Map &amp; Middlewares</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver-map/using-resolver-maps">Using Resolver Maps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver-map/introducing-middlewares">Introducing Resolver Map Middlewares</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver-map/managing-resolvers">Managing Resolvers with Middlewares</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver-map/available-middlewares">Available Middlewares</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolver-map/creating-middlewares">Creating Custom Middlewares</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Highlight</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/highlight/introducing-highlight">Introducing Highlight</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/highlight/available-highlighters">Available Highlighters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/highlight/creating-highlighters">Create Custom Highlighters</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">GraphQL Paper</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/introducing-paper">Introducing GraphQL Paper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/querying-data">Querying Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/mutating-data">Mutating Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/operations">Operations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/hooks">Hooks</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/paper/validations">Validations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/paper/technical-notes">Technical Notes</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">GraphQL Paper Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/paper/guides/factories">Generating Data with Factories</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/paper/guides/with-graphql">Using GraphQL Paper with GraphQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/paper/guides/managing-ids">Managing IDs</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Network Handling</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/network/introducing-network-handlers">Introducing Network Handlers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/network/express">Express</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/network/msw">Mock Service Worker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/network/nock">Nock</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/paper">Using Paper with graphql-mocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/automatic-filtering">Automatic Resolver Filtering with Wrappers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/relay-pagination">Relay Pagination</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/pack">Manually Apply Middlewares</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guides/mirage-js">Mirage JS</a></li></ul></li></ul></div></div></div><main class="docMainContainer_23gr"><div class="container padding-vert--lg docItemWrapper_3l-Z"><div class="row"><div class="col docItemCol_F4HC"><div class="docItemContainer_2MrJ"><article><header><h1 class="docTitle_2KCJ">Validations</h1></header><div class="markdown"><p>Validations are a powerful feature that keep the <code>DocumentStore</code> in check and maintain consistency after every transaction. They flexibly describe and define the set of rules to which the Document Store must conform to.</p><p>The default rules provided by the library enforce sensible defaults (see <em>Provided and Default Validators</em> section) for GraphQL and connections between documents. If there are particular restrictions to your GraphQL API and its data then adding custom validators can be a great way to enforce these rules (see the <em>Creating Custom Validator</em> sections).</p><p>Validations are provided by <em>Validators</em> which come in two flavors <em>Document Validators</em> and <em>Field Validators</em>. Which combination of validators are used can be specified, along with custom validators, too.</p><p>The validators are located on a <code>Paper</code> instance under the <a href="/api/paper/classes/Paper.html#validators" target="_blank" rel="noopener noreferrer"><code>validators</code> property</a>:</p><div class="mdxCodeBlock_24uS"><div class="codeBlockContent_142n"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1-Hy">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_196X"><div class="codeBlockLines_1yEX" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  field</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>where the <code>document</code> property contains an array of Document Validators and the <code>field</code> property contains an array of Field validators. See the next section for the defaults the are provided for each.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="provided-and-default-validators"></a>Provided and Default Validators<a aria-hidden="true" tabindex="-1" class="hash-link" href="#provided-and-default-validators" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="documentpropertyexistsasfieldontypevalidator"></a><a href="/api/paper/modules/validators.html#documentPropertyExistsAsFieldOnTypeValidator" target="_blank" rel="noopener noreferrer"><code>documentPropertyExistsAsFieldOnTypeValidator</code></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#documentpropertyexistsasfieldontypevalidator" title="Direct link to heading">#</a></h3><ul><li>Type: Document Validator</li><li>Included by default</li></ul><p>Enforces that any property that exists on a document also exists on the GraphQL type</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="listfieldvalidator"></a><a href="/api/paper/modules/validators.html#listFieldValidator" target="_blank" rel="noopener noreferrer"><code>listFieldValidator</code></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#listfieldvalidator" title="Direct link to heading">#</a></h3><ul><li>Type: Field Validator</li><li>Included by default</li></ul><p>Enforces that lists are represented by arrays or connections to other documents</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="nonnullfieldvalidator"></a><a href="/api/paper/modules/validators.html#nonNullFieldValidator" target="_blank" rel="noopener noreferrer"><code>nonNullFieldValidator</code></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#nonnullfieldvalidator" title="Direct link to heading">#</a></h3><ul><li>Type: Field Validator</li><li><strong>Note</strong> included by default</li></ul><p>Enforces that non-fields are not null. This is a stricter validator and is not included by default because there are cases where non-null fields may represent derived/computed data and may not be represented by data stored on the document.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="objectfieldvalidator"></a><a href="/api/paper/modules/validators.html#objectFieldValidator" target="_blank" rel="noopener noreferrer"><code>objectFieldValidator</code></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#objectfieldvalidator" title="Direct link to heading">#</a></h3><ul><li>Type: Field Validator</li><li>Included by default</li></ul><p>Enforces that a field represented by an object is an object if it&#x27;s not represented by connection(s).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="scalarfieldvalidator"></a><a href="/api/paper/modules/validators.html#scalarFieldValidator" target="_blank" rel="noopener noreferrer"><code>scalarFieldValidator</code></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#scalarfieldvalidator" title="Direct link to heading">#</a></h3><ul><li>Type: Field Validator</li><li>Included by default</li></ul><p>Enforces that a field represented by a scalar is a scalar.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="uniqueidfieldvalidator"></a><a href="/api/paper/modules/validators.html#uniqueIdFieldValidator" target="_blank" rel="noopener noreferrer"><code>uniqueIdFieldValidator</code></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#uniqueidfieldvalidator" title="Direct link to heading">#</a></h3><ul><li>Type: Field</li><li>Included by default</li></ul><p>Enforces that a type with <em>one</em> ID field is unique amongst other documents of the same type.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="removing-a-default-validator"></a>Removing a Default Validator<a aria-hidden="true" tabindex="-1" class="hash-link" href="#removing-a-default-validator" title="Direct link to heading">#</a></h3><p>Validators are functions that exist on the <code>Paper</code> instance under the <code>validators.document</code> or <code>validators.field</code> arrays for Document Validators or Field Validators, respectively. To remove a validator from an instance set the array to a new array with the validators excluded.</p><p>In this example <code>uniqueIdFieldValidator</code> and <code>documentPropertyExistsAsFieldOnTypeValidator</code> are filtered out from being used by the instance of <code>Paper</code>.</p><div class="mdxCodeBlock_24uS"><div class="codeBlockContent_142n"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1-Hy">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_196X"><div class="codeBlockLines_1yEX" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  uniqueIdFieldValidator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  documentPropertyExistsAsFieldOnTypeValidator</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;graphql-paper/validations&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> excludedValidators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  uniqueIdFieldValidator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  documentPropertyExistsAsFieldOnTypeValidator</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">document</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter">validator</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">excludedValidators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">validator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">field</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">field</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter">validator</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">excludedValidators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">includes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">validator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="creating-custom-document-validators"></a>Creating Custom Document Validators<a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-custom-document-validators" title="Direct link to heading">#</a></h2><ul><li><a href="/docs/paper/api/paper/interfaces/types.DocumentTypeValidator.html">Interface API</a></li></ul><p>A Document Validator enforces validation at the document-level, for the field-level use a Field Validator (see below). Document Validators implement the <code>DocumentTypeValidator</code> interface with an object that has <code>validate</code> function/method. If anything is found on the <code>Document</code> that is invalid the the <code>validate</code> method should thrown an <code>Error</code> or a class that extends <code>Error</code>.</p><div class="mdxCodeBlock_24uS"><div class="codeBlockContent_142n"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1-Hy">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_196X"><div class="codeBlockLines_1yEX" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    type</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> GraphQLObjectType</span><span class="token parameter operator" style="color:#393A34">&lt;</span><span class="token parameter">any</span><span class="token parameter operator" style="color:#393A34">&gt;</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    document</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> Document</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    graphqlSchema</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> GraphQLSchema</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    store</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> DocumentStore</span></div><div class="token-line" style="color:#393A34"><span class="token parameter">  </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><p>Available within <code>validate</code>:</p><ul><li><code>document</code> represents the document being validated</li><li><code>type</code> represents the <code>GraphQLType</code> of the document being validated</li><li><code>graphqlSchema</code> is an instance of the <code>GraphQLSchema</code></li><li><code>store</code> is read-only version of the <code>DocumentStore</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="creating-custom-field-validators"></a>Creating Custom Field Validators<a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-custom-field-validators" title="Direct link to heading">#</a></h2><ul><li><a href="/api/paper/interfaces/types.FieldValidator.html">Interface API</a></li></ul><p>Field Validators that implement the <code>FieldValidator</code> interface with an object that has <code>validate</code> function/method and the <code>skipConnectionValue</code>, <code>skipNullValue</code> properties. If anything is found on the <code>Document</code> that is invalid the the <code>validate</code> method should thrown an <code>Error</code> or a class that extends <code>Error</code>. See the section below on <em>Adding a Custom Validator Function</em>. See the section below on <em>Adding a Custom Validator Function</em>.</p><div class="mdxCodeBlock_24uS"><div class="codeBlockContent_142n"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1-Hy">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_196X"><div class="codeBlockLines_1yEX" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  skipConnectionValue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  skipNullValue</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    graphqlSchema</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> GraphQLSchema</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    type</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> GraphQLObjectType</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    field</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> GraphQLField</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    document</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> Document</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    fieldName</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    fieldValue</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    fieldConnections</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> DocumentKey</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter"> </span><span class="token parameter operator" style="color:#393A34">|</span><span class="token parameter"> </span><span class="token parameter keyword nil" style="color:#00009f">undefined</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">    store</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> DocumentStore</span></div><div class="token-line" style="color:#393A34"><span class="token parameter">  </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div></div></div><ul><li><code>skipConnectionValue</code> skips validation when the field is represented by a connected value on the document</li><li><code>skipNullValue</code> skips validation when the field is represented by a null or undefined value on the document</li></ul><p>Available within <code>validate</code>:</p><ul><li><code>document</code> represents the document being validated</li><li><code>type</code> represents the <code>GraphQLType</code> of the document being validated</li><li><code>field</code> represents the <code>GraphQLField</code> of the document property being validated</li><li><code>fieldName</code> represents a string for the property on the document (and the field on the GraphQL type)</li><li><code>graphqlSchema</code> is an instance of the <code>GraphQLSchema</code></li><li><code>fieldValue</code> represents the value of the field (keep in mind that the field might be have connections to other documents under <code>fieldConnections</code> in which case those would be the representative value when the property is accessed)</li><li><code>store</code> is read-only version of the <code>DocumentStore</code></li><li><code>fieldConnections</code> is an array of document keys or <code>undefined</code> if none exist (in which case <code>fieldValue</code> is the representative value when the property is accessed)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_1YVU" id="adding-a-custom-validator-function-to-paper"></a>Adding a Custom Validator Function to <code>Paper</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-a-custom-validator-function-to-paper" title="Direct link to heading">#</a></h2><p>To add a custom validator function to an instance of <code>Paper</code> import the function and push it on to the corresponding <code>document</code> or <code>field</code> array depending on if it&#x27;s a Document Validator or Field Validator, respectively.</p><div class="mdxCodeBlock_24uS"><div class="codeBlockContent_142n"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1-Hy">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_196X"><div class="codeBlockLines_1yEX" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> customFieldValidator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> customDocumentValidator </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./custom-validators&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">field</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">customFieldValidator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">paper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">validators</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">push</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">customDocumentValidator</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/paper/hooks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Hooks</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/paper/technical-notes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Technical Notes »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3-RU"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#provided-and-default-validators" class="table-of-contents__link">Provided and Default Validators</a><ul><li><a href="#documentpropertyexistsasfieldontypevalidator" class="table-of-contents__link">documentPropertyExistsAsFieldOnTypeValidator</a></li><li><a href="#listfieldvalidator" class="table-of-contents__link">listFieldValidator</a></li><li><a href="#nonnullfieldvalidator" class="table-of-contents__link">nonNullFieldValidator</a></li><li><a href="#objectfieldvalidator" class="table-of-contents__link">objectFieldValidator</a></li><li><a href="#scalarfieldvalidator" class="table-of-contents__link">scalarFieldValidator</a></li><li><a href="#uniqueidfieldvalidator" class="table-of-contents__link">uniqueIdFieldValidator</a></li><li><a href="#removing-a-default-validator" class="table-of-contents__link">Removing a Default Validator</a></li></ul></li><li><a href="#creating-custom-document-validators" class="table-of-contents__link">Creating Custom Document Validators</a></li><li><a href="#creating-custom-field-validators" class="table-of-contents__link">Creating Custom Field Validators</a></li><li><a href="#adding-a-custom-validator-function-to-paper" class="table-of-contents__link">Adding a Custom Validator Function to <code>Paper</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2021 by <a href="https://www.github.com/chadian">chadian</a></div></div></div></footer></div>
<script src="/styles.e1f10985.js"></script>
<script src="/runtime~main.9a6af0d8.js"></script>
<script src="/main.b72d448a.js"></script>
<script src="/1.49ab99cb.js"></script>
<script src="/2.5cd49a1a.js"></script>
<script src="/233.50edff6b.js"></script>
<script src="/234.9d57370b.js"></script>
<script src="/935f2afb.82f58c21.js"></script>
<script src="/17896441.62dea231.js"></script>
<script src="/74cf055a.8a1069bf.js"></script>
</body>
</html>