(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{124:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTypeReference=function(e){return"string"==typeof e}},125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFieldReference=function(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]}},136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HIGHLIGHT_ALL="*",t.HIGHLIGHT_ROOT_MUTATION="<ROOT_MUTATION_TYPE>",t.HIGHLIGHT_ROOT_QUERY="<ROOT_QUERY_TYPE>"},146:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WrapperFor={TYPE:"TYPE",FIELD:"FIELD",ANY:"ANY"}},147:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(124),o=r(125);t.getTypeForReference=function(e,t){var r;if(n.isTypeReference(t))return null!==(r=e.getType(t))&&void 0!==r?r:void 0;if(o.isFieldReference(t)){var i;const[r]=t;return null!==(i=e.getType(r))&&void 0!==i?i:void 0}}},148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldForReference=function(e,t){const[r,n]=t,o=e.getType(r);if(o&&"getFields"in o){return o.getFields()[n]}}},187:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(103),c=r(146);class u{constructor(e,t,r){if("string"!=typeof e)throw new Error("Specify a string for the name argument for createWrapper");this.name=e,this.wrapper=r,this.wrapperFor=t}async wrap(e,t){const{type:r,field:n}=t,i=this.wrapper,u=this.wrapperFor,s={resolver:e,wrapper:i,options:t};if(function(e,t){return Boolean(a.isObjectType(e)&&t)}(r,s)&&n&&u===c.WrapperFor.FIELD){const{wrapper:e,resolver:t,options:r}=s;return e(t,o(o({},r),{},{type:r.type,field:r.field}))}if(function(e,t){return Boolean(a.isAbstractType(e)&&t)}(r,s)&&!n&&u===c.WrapperFor.TYPE){const{wrapper:e,resolver:t,options:n}=s;return e(t,o(o({},n),{},{type:r,field:void 0}))}return u===c.WrapperFor.ANY?i(e,t):e}}t.createWrapper=function(e,t,r){return new u(e,t,r)}},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEqual=function(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e[0]===t[0]&&e[1]===t[1]}},189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(117),r(120),r(118),r(103);var n=r(250);t.reference=function(...e){return{mark:()=>e.filter(n.isReference)}}},236:function(e,t){},237:function(e,t){},238:function(e,t){},239:function(e,t){},240:function(e,t){},241:function(e,t){},242:function(e,t){},243:function(e,t){},244:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coerceSingular=function(e){return Array.isArray(e)?1===e.length?e[0]:0===e.length?null:e:e}},245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coerceToList=function(e){return null==e?[]:Array.isArray(e)?e:[e]}},246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103);t.isFieldResolver=function(e,t){return Boolean(n.isObjectType(e)&&t)}},247:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103);t.isTypeResolver=function(e,t){return Boolean(n.isAbstractType(e)&&t)}},248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(117),o=r(425),i=r(426),a=r(427),c=r(428),u=r(429),s=r(430),l=r(251),f=r(125),p=r(124);function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=d(n);const h=["Int","Float","String","Boolean","ID"];class y{constructor(e,t){var r;this.schema=e,t=null!==(r=t)&&void 0!==r?r:[],this.validate(t),this.references=t}get instances(){const e=this.schema;return{types:s.buildReferenceMap(e,this.references)}}include(...e){const t=o.include,r=e.map(u.convertHighlighterOrReferenceToHighlighter).filter(Boolean),n=this.applyHighlighters(t,r);return this.validate(n),this.clone(n)}exclude(...e){const t=i.exclude,r=e.map(u.convertHighlighterOrReferenceToHighlighter).filter(Boolean),n=this.applyHighlighters(t,r);return this.validate(n),this.clone(n)}filter(...e){const t=a.filter,r=e.map(u.convertHighlighterOrReferenceToHighlighter).filter(Boolean),n=this.applyHighlighters(t,r);return this.validate(n),this.clone(n)}clone(e){return new y(this.schema,e)}applyHighlighters(e,t){const r=this.schema,n=v.default(this.references);let o=t.reduce(((t,n)=>{const o=n.mark(r);return e(t,o)}),n).filter((function(e){let t;return f.isFieldReference(e)&&(t=e[0]),p.isTypeReference(e)&&(t=e),!t||!t.startsWith("__")&&!h.includes(t)}));return o=l.unique(o),o}validate(e){const t=e.map((e=>c.validate(this.schema,e))).filter(Boolean);if(0!==t.length)throw new c.ValidationError(t)}}t.Highlight=y,t.hi=function(e,t){return new y(e,t)}},249:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHighlighter=function(e){return"object"==typeof e&&null!=e&&"mark"in e&&"function"==typeof e.mark}},250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(124),o=r(125);t.isReference=function(e){return o.isFieldReference(e)||n.isTypeReference(e)}},251:function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(118));t.unique=function(e){const t=[];return e.forEach((e=>{t.find((t=>o.default(e,t)))||t.push(e)})),t}},414:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(415),o=r(416),i=r(187),a=r(146),c=r(417),u=r(420);t.extractAllDependencies=n.extractAllDependencies,t.extractDependencies=n.extractDependencies,t.applyWrappers=o.applyWrappers,t.createWrapper=i.createWrapper,t.WrapperFor=a.WrapperFor,t.utils=c,t.types=u},415:function(e,t,r){"use strict";function n(e){var t,r;return null!==(t=null==e||null===(r=e.pack)||void 0===r?void 0:r.dependencies)&&void 0!==t?t:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.extractAllDependencies=n,t.extractDependencies=function(e,t,r={required:!0}){const o=n(e);if(!Array.isArray(t)||0===t.length)return o;(r="object"!=typeof r?{required:!0}:r).required=!("required"in r)||r.required;const i={},a=[];if(t.forEach((e=>{var t;const n=o[e];(null===(t=r)||void 0===t?void 0:t.required)&&null==n&&a.push(e.toString()),i[e]=n})),a.length>0){const e=a.map((e=>`"${e}"`)).join(", ");throw new Error(`Expected to find dependencies with keys: ${e}\nEither:\n * Add these to \`dependencies\` to your \`GraphQLHandler\` class or \`pack\` function\n * Use { required : false } as the third argument to \`extractDependencies\` and allow for these to be optional dependencies`)}return i}},416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103),o=r(146);t.applyWrappers=async function e(t,r,i){let a=(r=[...r]).shift();if("function"!=typeof t)throw new Error("Resolver for wrapResolver must be a function, got "+typeof t);if(!a)return t;let c=a.name||"UNNAMED";if(function(e){return e&&"name"in e&&"wrap"in e}(a)){const e=a;c=e.name;const t=e.wrapperFor;var u;if(t===o.WrapperFor.FIELD&&!n.isObjectType(i.type))throw new Error(`Wrapper "${c}" is for FIELD resolvers and can't wrap ["${i.type.name}", "${null===(u=i.field)||void 0===u?void 0:u.name}"].`);if(t===o.WrapperFor.TYPE&&!n.isAbstractType(i.type))throw new Error(`Wrapper "${c}" is for TYPE resolvers and can't wrap ["${i.type.name}"].`);a=a.wrap.bind(a)}const s=await a(t,i);if("function"!=typeof s)throw new Error(`Wrapper "${c}" was not a function or did not have a wrap method, got ${typeof s}.`);return e(s,r,i)}},417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(418),o=r(244),i=r(245),a=r(246),c=r(247);t.coerceReturnType=n.coerceReturnType,t.coerceSingular=o.coerceSingular,t.coerceToList=i.coerceToList,t.isFieldResolver=a.isFieldResolver,t.isTypeResolver=c.isTypeResolver},418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(419);r(103);var o=r(244),i=r(245);t.coerceReturnType=function(e,t){return e=n.hasListType(t.returnType)?i.coerceToList(e):o.coerceSingular(e)}},419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103);t.hasListType=function(e){return n.isListType(e)||n.isNonNullType(e)&&n.isListType(e.ofType)}},420:function(e,t,r){},421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(422),o=r(423);t.logWrapper=n.logWrapper,t.stashFor=o.stashFor,t.stashStateWrapper=o.stashStateWrapper},422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(103);var n=r(146),o=r(187),i=r(246),a=r(247);const c=o.createWrapper("log-wrapper",n.WrapperFor.ANY,(async function(e,t){const{type:r,field:n}=t;if(i.isFieldResolver(t.type,e)){return async function(t,o,i,a){const[c,u]=[t,o].map((e=>{try{return JSON.stringify(e,null,2)}catch{return"Unable to JSON.stringify"}}));console.log(`--- START: field resolver on ${r.name}.${null==n?void 0:n.name} ---`),console.log(""),console.log("parent:"),console.log(c),console.log(""),console.log("args:"),console.log(u),console.log("");const s=await e(t,o,i,a),l=JSON.stringify(s,null,2);return console.log("result:"),console.log(l),console.log(""),console.log(`--- END: field resolver on ${r.name}.${null==n?void 0:n.name} ---`),s}}if(a.isTypeResolver(t.type,e)){return async(t,n,o,i)=>{const[a]=[t].map((e=>{try{return JSON.stringify(e,null,2)}catch{return"Unable to JSON.stringify"}}));console.log(`--- START: type resolver on ${r.name} ---`),console.log(""),console.log("value:"),console.log(a),console.log("");const c=await e(t,n,o,i),u=JSON.stringify(c,null,2);return console.log("result:"),console.log(u),console.log(""),console.log(`--- END: type resolver on ${r.name} ---`),c}}return e}));t.logWrapper=c},423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(103);var n=r(146),o=r(187);const i=Symbol("stash-state");const a=o.createWrapper("stash-state",n.WrapperFor.FIELD,(async function(e){return(t,r,n,o)=>{const a=e(t,r,n,o);if("object"==typeof a&&null!==a){const e={parent:t,args:r,context:n,info:o,result:a};a[i]=e}return a}}));t.stashFor=function(e){return e&&e[i]},t.stashKey=i,t.stashStateWrapper=a},424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(248),o=r(431),i=r(432),a=r(433),c=r(434),u=r(189),s=r(435),l=r(436),f=r(437),p=r(136),d=r(438),v=r(442);t.Highlight=n.Highlight,t.hi=n.hi,t.combine=o.combine,t.field=i.field,t.fromResolverMap=a.fromResolverMap,t.interfaces=c.interfaces,t.reference=u.reference,t.resolvesTo=s.resolvesTo,t.type=l.type,t.union=f.union,t.HIGHLIGHT_ALL=p.HIGHLIGHT_ALL,t.HIGHLIGHT_ROOT_MUTATION=p.HIGHLIGHT_ROOT_MUTATION,t.HIGHLIGHT_ROOT_QUERY=p.HIGHLIGHT_ROOT_QUERY,t.utils=d,t.types=v},425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.include=function(e,t){return[...e,...t]}},426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(120),o=r(188);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=i(n);t.exclude=function(e,t){return a.default(e,t,o.isEqual)}},427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(188);t.filter=function(e,t){return e.filter((e=>Boolean(t.find((t=>n.isEqual(t,e))))))}},428:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(124),o=r(125),i=r(147),a=r(148);class c extends Error{constructor(e){super("References failed validation with errors:\n"+e.map((e=>" * "+e.message)).join("\n"))}}t.ValidationError=c,t.validate=function(e,t){const r=JSON.stringify(t);return n.isTypeReference(t)||o.isFieldReference(t)?n.isTypeReference(t)&&!i.getTypeForReference(e,t)?new Error(`Type Reference ${r} could not be found in the GraphQLSchema`):o.isFieldReference(t)&&!a.getFieldForReference(e,t)?new Error(`Field Reference ${r} could not be found in the GraphQLSchema`):null:new Error(`Reference ${r} is not a valid type reference \`"TypeName"\` or valid field reference \`["TypeName", "fieldName"]\``)}},429:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(124),o=r(125),i=r(249),a=r(189);t.convertHighlighterOrReferenceToHighlighter=function(e){return n.isTypeReference(e)||o.isFieldReference(e)?a.reference(e):i.isHighlighter(e)?e:void 0}},430:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(124),o=r(147),i=r(125),a=r(148);t.buildReferenceMap=function(e,t){const r={};return t.filter(n.isTypeReference).map((t=>o.getTypeForReference(e,t))).forEach((e=>{e&&(r[e.name]={type:e})})),t.filter(i.isFieldReference).map((([t,r])=>[t,a.getFieldForReference(e,[t,r])])).forEach((([t,n])=>{if(n){var i,a;const c=o.getTypeForReference(e,t);if(!c)return;if(r[t]=null!==(i=r[t])&&void 0!==i?i:{type:c},!n)return;r[t].fields=null!==(a=r[t].fields)&&void 0!==a?a:{},r[t].fields[n.name]=n}})),r}},431:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(...e){return{mark(t){const r=e.map((e=>e.mark(t)));return[].concat(...r)}}}},432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);function o(e,t){return[].concat(e,t)}class i{constructor(e){0===e.length&&(e=[[n.HIGHLIGHT_ALL,n.HIGHLIGHT_ALL]]),this.targets=e}mark(e){return i.expandTargets(e,this.targets)}static expandTargets(e,t){return t.map((t=>i.expandTarget(e,t))).reduce(o,[])}static expandTarget(e,[t,r]){var i;if(t===n.HIGHLIGHT_ALL){return Object.values(e.getTypeMap()).filter((e=>!e.name.startsWith("__"))).map((t=>t&&"getFields"in t?this.expandTarget(e,[t.name,r]):void 0)).filter(Boolean).reduce(o,[])}let a=e.getType(t);if(t===n.HIGHLIGHT_ROOT_QUERY&&(a=e.getQueryType()),t===n.HIGHLIGHT_ROOT_MUTATION&&(a=e.getMutationType()),!a||!(null===(i=a)||void 0===i?void 0:i.name)||!("getFields"in a))return[];const c=a.getFields();return(r===n.HIGHLIGHT_ALL?Object.keys(c):[r]).filter((e=>Object.keys(c).includes(e))).map((e=>{var t;return(null===(t=a)||void 0===t?void 0:t.name)&&e?[a.name,e]:void 0})).filter(Boolean)}}t.FieldHighlighter=i,t.field=function(...e){return new i(e)}},433:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.resolverMap=e}mark(){const e=[],t=this.resolverMap;if("object"!=typeof t)return[];for(const r in t){e.push(r);for(const n in t[r])"__resolveType"!==n&&e.push([r,n])}return e}}t.fromResolverMap=function(e){return new n(e)}},434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103),o=r(136);class i{constructor(e){0===e.length&&(e=[o.HIGHLIGHT_ALL]),this.targets=e}mark(e){return i.expandTargets(e,this.targets)}static expandTargets(e,t){const r=Object.values(e.getTypeMap()).filter(n.isInterfaceType).map((e=>e.name));return t.includes(o.HIGHLIGHT_ALL)?r:r.filter((e=>t.includes(e)))}}t.InterfaceHighlighter=i,t.interfaces=function(...e){return new i(e)}},435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103),o=r(163),i=r(136);function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=a(o);function u(e,t){return[].concat(e,t)}function s(e){var t;let r;e=e.trim();try{r=n.parse(`\n    type Noop {\n      noop: ${e}\n    }\n  `)}catch{return}const o=r.definitions[0];return(null==o||null===(t=o.fields)||void 0===t?void 0:t[0]).type}class l{constructor(e){0===e.length&&(e=[i.HIGHLIGHT_ALL]),this.targets=e}mark(e){return l.expandTargets(e,this.targets)}static expandTargets(e,t){if(t.includes(i.HIGHLIGHT_ALL))return l.allFieldResolvables(e);return t.map(s).filter(Boolean).map((t=>l.expandTarget(e,t))).reduce(u,[])}static expandTarget(e,t){return Object.values(e.getTypeMap()).filter(n.isObjectType).map((e=>Object.values(e.getFields()).reduce(((r,n)=>{var o;const i=null===(o=n.astNode)||void 0===o?void 0:o.type;return c.default([i],[t],(function(e,t,r){if("loc"===r)return!0}))&&r.push([e.name,n.name]),r}),[]))).reduce(u,[])}static allFieldResolvables(e){return Object.values(e.getTypeMap()).filter(n.isObjectType).filter((e=>!e.name.startsWith("__"))).map((e=>Object.values(e.getFields()).map((t=>"resolve"in t&&[e.name,t.name])))).reduce(u,[]).filter(Boolean)}}t.ResolvesToHighlighter=l,t.resolvesTo=function(...e){return new l(e)}},436:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(136);class o{constructor(e){0===e.length&&(e=[n.HIGHLIGHT_ALL]),this.targets=e}mark(e){return o.expandTargets(e,this.targets)}static expandTargets(e,t){var r,o;const i=Object.keys(e.getTypeMap());if(t.includes(n.HIGHLIGHT_ALL))return i;const a=t.includes(n.HIGHLIGHT_ROOT_QUERY),c=t.includes(n.HIGHLIGHT_ROOT_MUTATION);t=t.filter((e=>e!==n.HIGHLIGHT_ROOT_QUERY&&e!==n.HIGHLIGHT_ROOT_MUTATION));const u=null===(r=e.getQueryType())||void 0===r?void 0:r.name;u&&a&&t.push(u);const s=null===(o=e.getMutationType())||void 0===o?void 0:o.name;return s&&c&&t.push(s),t.filter((e=>i.includes(e)))}}t.TypeHighlighter=o,t.type=function(...e){return new o(e)}},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103),o=r(136);class i{constructor(e){0===e.length&&(e=[o.HIGHLIGHT_ALL]),this.targets=e}mark(e){return i.expandTargets(e,this.targets)}static expandTargets(e,t){const r=Object.values(e.getTypeMap()).filter(n.isUnionType).map((e=>e.name));return t.includes(o.HIGHLIGHT_ALL)?r:r.filter((e=>t.includes(e)))}}t.UnionHighlighter=i,t.union=function(...e){return new i(e)}},438:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(439),o=r(148),i=r(440),a=r(147),c=r(188),u=r(125),s=r(249),l=r(250),f=r(124),p=r(251),d=r(441);t.coerceHighlight=n.coerceHighlight,t.getFieldForReference=o.getFieldForReference,t.getInstanceForReference=i.getInstanceForReference,t.getTypeForReference=a.getTypeForReference,t.isEqual=c.isEqual,t.isFieldReference=u.isFieldReference,t.isHighlighter=s.isHighlighter,t.isReference=l.isReference,t.isTypeReference=f.isTypeReference,t.unique=p.unique,t.walk=d.walk},439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(248),o=r(189);t.coerceHighlight=function(e,t){if(t instanceof n.Highlight)return t;if(Array.isArray(t))return new n.Highlight(e).include(o.reference(...t));if("function"==typeof t){return t(new n.Highlight(e))}throw new Error(`Unable to coerce highlight, got ${typeof t}. Must be either an array of References, a callback that receives a Highlight instance, or a Highlight instance`)}},440:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(103),o=r(124),i=r(147),a=r(125),c=r(148);t.getInstanceForReference=function(e,t){if(o.isTypeReference(t))return i.getTypeForReference(e,t);if(a.isFieldReference(t)){const[r,o]=t,a=i.getTypeForReference(e,r),u=c.getFieldForReference(e,[r,o]);if(n.isObjectType(a)&&u)return[a,u];if(n.isInputObjectType(a)&&u)return[a,u]}}},441:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(117),r(120);var n=r(147),o=r(148);r(118),r(103),t.walk=async function(e,t,r){for(const i of t){if(!Array.isArray(t))throw new Error("Expected an array of references, got "+typeof t);if("function"!=typeof r)throw new Error("Expected callback to be a function, got "+typeof r);const a=n.getTypeForReference(e,i),c=o.getFieldForReference(e,i);a&&await r({reference:i,type:a,field:c})}}},442:function(e,t,r){},90:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"create",(function(){return bt})),r.d(n,"find",(function(){return Ot})),r.d(n,"remove",(function(){return wt})),r.d(n,"clone",(function(){return Et})),r.d(n,"getStore",(function(){return Pt})),r.d(n,"queueEvent",(function(){return Ht}));var o=r(0),i=r.n(o),a=r(657),c=r(197),u=r.n(c),s=r(149),l=r(127),f=r(110),p=r(128),d=r(77),v=r.n(d),h=r(269),y=r.n(h),g=(r(78),r(166)),m=r(117),b=r.n(m),O=r(131),w=r(105),j="TYPE",T="FIELD",_="ANY";function E(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){E(i,n,o,a,c,"next",e)}function c(e){E(i,n,o,a,c,"throw",e)}a(void 0)}))}}function H(e){return e&&"name"in e&&"wrap"in e}function R(e,t,r){return S.apply(this,arguments)}function S(){return(S=P((function*(e,t,r){var n=(t=[...t]).shift();if("function"!=typeof e)throw new Error("Resolver for wrapResolver must be a function, got ".concat(typeof e));if(!n)return e;var o=n.name||"UNNAMED";if(H(n)){var i=n;o=i.name;var a,c=i.wrapperFor;if(c===T&&!Object(w.N)(r.type))throw new Error('Wrapper "'.concat(o,'" is for FIELD resolvers and can\'t wrap ["').concat(r.type.name,'", "').concat(null===(a=r.field)||void 0===a?void 0:a.name,'"].'));if(c===j&&!Object(w.C)(r.type))throw new Error('Wrapper "'.concat(o,'" is for TYPE resolvers and can\'t wrap ["').concat(r.type.name,'"].'));n=n.wrap.bind(n)}var u=yield n(e,r);if("function"!=typeof u)throw new Error('Wrapper "'.concat(o,'" was not a function or did not have a wrap method, got ').concat(typeof u,"."));return R(u,t,r)}))).apply(this,arguments)}var M=r(120),x=r.n(M);function N(e){return"string"==typeof e}function F(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]}var A=r(118),k=r.n(A);function I(e,t){if(N(t)){var r,n=null===(r=e[t])||void 0===r?void 0:r.__resolveType;return n||void 0}if(F(t)){var o,[i,a]=t,c=null===(o=e[i])||void 0===o?void 0:o[a];return c||void 0}}function D(e,t){var r;if(N(t))return null!==(r=e.getType(t))&&void 0!==r?r:void 0;if(F(t)){var n,[o]=t;return null!==(n=e.getType(o))&&void 0!==n?n:void 0}}function L(e,t){var[r,n]=t,o=e.getType(r);if(o&&"getFields"in o)return o.getFields()[n]}function G(e,t){if(N(t))return D(e,t);if(F(t)){var[r,n]=t,o=D(e,r),i=L(e,[r,n]);if(Object(w.N)(o)&&i)return[o,i];if(Object(w.F)(o)&&i)return[o,i]}}function q(e){return F(e)||N(e)}function W(e,t,r,n){var o,i,a;n=null!==(o=n)&&void 0!==o?o:{};var{graphqlSchema:c}=n,u=null!==(i=n.replace)&&void 0!==i&&i;if("function"!=typeof r)throw new TypeError("Expected resolver to be a function, got ".concat(typeof r));if("object"!=typeof e)throw new TypeError("Expected resolverMap must be an object, got ".concat(typeof e));if(!q(t))throw new TypeError("Expected reference to be a type reference or field reference, got ".concat(typeof t));var s=F(t)?{type:t[0],field:t[1]}:{type:t,field:"__resolveType"};if(c){var l=G(c,t);if(!l)throw new Error("Expected to find reference ".concat(t," in schema"));if(N(t)&&!Object(w.C)(l))throw new Error("Expected reference ".concat(t," to be an Interface or Union type"));if(F(t)&&Array.isArray(l)&&!Object(w.N)(l[0]))throw new Error("Expected reference ".concat(t," to reference a GraphQLObject type with field ").concat(t[1]))}if(I(e,t)&&!u)throw new Error("Cannot add resolver to resolver map at ".concat(t," because a resolver already exists ")+"and the replace is set to ".concat(u));return e[s.type]=null!==(a=e[s.type])&&void 0!==a?a:{},e[s.type][s.field]=r,e}var C="*",U="<ROOT_QUERY_TYPE>",Q="<ROOT_MUTATION_TYPE>";function B(e,t){return[].concat(e,t)}class Y{constructor(e){0===e.length&&(e=[[C,C]]),this.targets=e}mark(e){return Y.expandTargets(e,this.targets)}static expandTargets(e,t){return t.map((t=>Y.expandTarget(e,t))).reduce(B,[])}static expandTarget(e,t){var r,[n,o]=t;if(n===C)return Object.values(e.getTypeMap()).filter((e=>!e.name.startsWith("__"))).map((t=>t&&"getFields"in t?this.expandTarget(e,[t.name,o]):void 0)).filter(Boolean).reduce(B,[]);var i=e.getType(n);if(n===U&&(i=e.getQueryType()),n===Q&&(i=e.getMutationType()),!i||!(null===(r=i)||void 0===r?void 0:r.name)||!("getFields"in i))return[];var a=i.getFields();return(o===C?Object.keys(a):[o]).filter((e=>Object.keys(a).includes(e))).map((e=>{var t;return(null===(t=i)||void 0===t?void 0:t.name)&&e?[i.name,e]:void 0})).filter(Boolean)}}var J=r(163),V=r.n(J);class ${constructor(e){0===e.length&&(e=[C]),this.targets=e}mark(e){return $.expandTargets(e,this.targets)}static expandTargets(e,t){var r,n,o=Object.keys(e.getTypeMap());if(t.includes(C))return o;var i=t.includes(U),a=t.includes(Q);t=t.filter((e=>e!==U&&e!==Q));var c=null===(r=e.getQueryType())||void 0===r?void 0:r.name;c&&i&&t.push(c);var u=null===(n=e.getMutationType())||void 0===n?void 0:n.name;return u&&a&&t.push(u),t.filter((e=>o.includes(e)))}}function z(e){return e.include(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new $(t)}(),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Y(t)}())}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}class te{constructor(e,t,r){if("string"!=typeof e)throw new Error("Specify a string for the name argument for createWrapper");this.name=e,this.wrapper=r,this.wrapperFor=t}wrap(e,t){var r,n=this;return(r=function*(){var{type:r,field:o}=t,i=n.wrapper,a=n.wrapperFor,c={resolver:e,wrapper:i,options:t};if(function(e,t){return Boolean(Object(w.N)(e)&&t)}(r,c)&&o&&a===T){var{wrapper:u,resolver:s,options:l}=c;return u(s,X(X({},l),{},{type:l.type,field:l.field}))}if(function(e,t){return Boolean(Object(w.C)(e)&&t)}(r,c)&&!o&&a===j){var{wrapper:f,resolver:p,options:d}=c;return f(p,X(X({},d),{},{type:r,field:void 0}))}return a===_?i(e,t):e},function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){ee(i,n,o,a,c,"next",e)}function c(e){ee(i,n,o,a,c,"throw",e)}a(void 0)}))})()}}function re(e,t,r){return new te(e,t,r)}function ne(e,t){return Boolean(Object(w.N)(e)&&t)}function oe(e,t){return Boolean(Object(w.C)(e)&&t)}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t){var r;return e=ae(ae({},e=null!==(r=e)&&void 0!==r?r:{}),{},{pack:e.pack||t})}function se(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}var le=re("embed-pack-options",_,function(){var e,t=(e=function*(e,t){var{type:r}=t;return ne(r,e)?(r,n,o,i)=>(o=ue(o,t.packOptions),e(r,n,o,i)):oe(r,e)?(r,n,o,i)=>(n=ue(n,t.packOptions),e(r,n,o,i)):e},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){se(i,n,o,a,c,"next",e)}function c(e){se(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}());function fe(e,t){return[...e,...t]}function pe(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e[0]===t[0]&&e[1]===t[1]}function de(e,t){return x()(e,t,pe)}function ve(e,t){return e.filter((e=>Boolean(t.find((t=>pe(t,e))))))}class he extends Error{constructor(e){var t=e.map((e=>" * ".concat(e.message))).join("\n");super("References failed validation with errors:\n".concat(t))}}var ye=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{mark:()=>t.filter(q)}};function ge(e){return N(e)||F(e)?ye(e):"object"==typeof(t=e)&&null!=t&&"mark"in t&&"function"==typeof t.mark?e:void 0;var t}var me=["Int","Float","String","Boolean","ID"];class be{constructor(e,t){var r;this.schema=e,t=null!==(r=t)&&void 0!==r?r:[],this.validate(t),this.references=t}get instances(){return{types:function(e,t){var r={};return t.filter(N).map((t=>D(e,t))).forEach((e=>{e&&(r[e.name]={type:e})})),t.filter(F).map((t=>{var[r,n]=t;return[r,L(e,[r,n])]})).forEach((t=>{var[n,o]=t;if(o){var i,a,c=D(e,n);if(!c)return;if(r[n]=null!==(i=r[n])&&void 0!==i?i:{type:c},!o)return;r[n].fields=null!==(a=r[n].fields)&&void 0!==a?a:{},r[n].fields[o.name]=o}})),r}(this.schema,this.references)}}include(){for(var e=fe,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.map(ge).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)}exclude(){for(var e=de,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.map(ge).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)}filter(){for(var e=ve,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.map(ge).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)}clone(e){return new be(this.schema,e)}applyHighlighters(e,t){var r,n=this.schema,o=b()(this.references),i=t.reduce(((t,r)=>{var o=r.mark(n);return e(t,o)}),o).filter((function(e){var t;return F(e)&&(t=e[0]),N(e)&&(t=e),!t||!t.startsWith("__")&&!me.includes(t)}));return r=[],i.forEach((e=>{r.find((t=>k()(e,t)))||r.push(e)})),i=r}validate(e){var t=e.map((e=>function(e,t){var r=JSON.stringify(t);return N(t)||F(t)?N(t)&&!D(e,t)?new Error("Type Reference ".concat(r," could not be found in the GraphQLSchema")):F(t)&&!L(e,t)?new Error("Field Reference ".concat(r," could not be found in the GraphQLSchema")):null:new Error("Reference ".concat(r,' is not a valid type reference `"TypeName"` or valid field reference `["TypeName", "fieldName"]`'))}(this.schema,e))).filter(Boolean);if(0!==t.length)throw new he(t)}}class Oe{constructor(e){0===e.length&&(e=[C]),this.targets=e}mark(e){return Oe.expandTargets(e,this.targets)}static expandTargets(e,t){var r=Object.values(e.getTypeMap()).filter(w.H).map((e=>e.name));return t.includes(C)?r:r.filter((e=>t.includes(e)))}}var we=r(159);function je(e,t){return[].concat(e,t)}function Te(e){var t,r;e=e.trim();try{r=Object(we.a)("\n    type Noop {\n      noop: ".concat(e,"\n    }\n  "))}catch(o){return}var n=r.definitions[0];return(null==n||null===(t=n.fields)||void 0===t?void 0:t[0]).type}class _e{constructor(e){0===e.length&&(e=[C]),this.targets=e}mark(e){return _e.expandTargets(e,this.targets)}static expandTargets(e,t){return t.includes(C)?_e.allFieldResolvables(e):t.map(Te).filter(Boolean).map((t=>_e.expandTarget(e,t))).reduce(je,[])}static expandTarget(e,t){return Object.values(e.getTypeMap()).filter(w.N).map((e=>Object.values(e.getFields()).reduce(((r,n)=>{var o,i=null===(o=n.astNode)||void 0===o?void 0:o.type;return V()([i],[t],(function(e,t,r){if("loc"===r)return!0}))&&r.push([e.name,n.name]),r}),[]))).reduce(je,[])}static allFieldResolvables(e){return Object.values(e.getTypeMap()).filter(w.N).filter((e=>!e.name.startsWith("__"))).map((e=>Object.values(e.getFields()).map((t=>"resolve"in t&&[e.name,t.name])))).reduce(je,[]).filter(Boolean)}}class Ee{constructor(e){0===e.length&&(e=[C]),this.targets=e}mark(e){return Ee.expandTargets(e,this.targets)}static expandTargets(e,t){var r=Object.values(e.getTypeMap()).filter(w.T).map((e=>e.name));return t.includes(C)?r:r.filter((e=>t.includes(e)))}}function Pe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function He(e){var{resolver:t,highlight:r=z,wrappers:n=[],replace:o=!1}=e;return function(){var e,i=(e=function*(e,i){var a=i.dependencies.graphqlSchema;if(!Object(O.c)(a))throw new Error('"graphqlSchema" is an expected dependency, got type '.concat(typeof a));var c=function(e,t){if(t instanceof be)return t;if(Array.isArray(t))return new be(e).include(ye(...t));if("function"==typeof t)return t(new be(e));throw new Error("Unable to coerce highlight, got ".concat(typeof t,". Must be either an array of References, ")+"a callback that receives a Highlight instance, or a Highlight instance")}(a,r).filter(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{mark(e){var r=t.map((t=>t.mark(e)));return[].concat(...r)}}}(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new _e(t)}(),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Ee(t)}(),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Oe(t)}()));for(var u of c.references){var s=I(e,u),l=o,f=t;if(f&&s&&!l){var p=JSON.stringify(u);throw new Error("Tried to add a new resolver via `embed` at ".concat(p," but a resolver already ")+"exists there. If this was intended use the `replace` option to replace the existing resolver.")}if("function"!=typeof f&&(l=!0,f=s),f){var d=void 0,v=void 0;if(N(u)&&(d=G(a,u)),F(u)){var h=G(a,u);d=null==h?void 0:h[0],v=null==h?void 0:h[1]}if(!d||!Object(w.N)(d)&&!Object(w.C)(d))throw new Error("reference ".concat(JSON.stringify(u)," could not be resolved to a GraphQL Object, Union or Interface type"));W(e,u,yield R(f,[...n,le],{type:d,field:v,schema:a,resolverMap:e,packOptions:i}),{graphqlSchema:a,replace:l})}}return e},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Pe(i,n,o,a,c,"next",e)}function c(e){Pe(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return i.apply(this,arguments)}}()}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe={state:{},dependencies:{}};function Ne(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=Se(Se({},xe),{},{dependencies:null!==(e=r.dependencies)&&void 0!==e?e:xe.dependencies,state:null!==(t=r.state)&&void 0!==t?t:xe.state});return n}function Fe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}var Ae=function(){var e,t=(e=function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xe;t=[...t,He({wrappers:[le]})];var n=b()(e);for(var o of(r=Ne(r),t))n=yield o(n,r);return{resolverMap:n,state:r.state}},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fe(i,n,o,a,c,"next",e)}function c(e){Fe(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function ke(e,t){!function(e,t){for(var r in t){var n=e.getType(r),o=t[r].__resolveType;Boolean(o)&&Object(w.C)(n)&&(n.resolveType=o)}}(e,t),function(e,t){for(var r in t){var n=e.getType(r);if(Object(w.N)(n))for(var o in t[r]){var i=t[r][o],a=n.getFields(),c=Object.keys(a);"function"==typeof i&&c.includes(o)&&(a[o].resolve=i)}}}(e,t)}var Ie=r(307),De=r(655);function Le(e){if(Object(O.c)(e))return function(e){return Object(Ie.c)(Object(De.b)(e))}(e);if("object"==typeof e&&"Document"===e.kind)try{return Object(Ie.b)(e)}catch(t){throw new Error("Unable to build a schema from the AST Schema passed into the `graphqlSchema` dependency. Failed with error:\n\n"+t.message)}if("string"==typeof e)try{return Object(Ie.c)(e)}catch(t){throw new Error("Unable to build a schema from the string passed into the `graphqlSchema` dependency. Failed with error:\n\n"+t.message)}throw new Error("Unable to build schema, pass in an instance of schema or a string")}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ce(i,n,o,a,c,"next",e)}function c(e){Ce(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(236),r(237),r(410);r(238),r(239);r(240);r(241);function Je(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ve(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Je(i,n,o,a,c,"next",e)}function c(e){Je(i,n,o,a,c,"throw",e)}a(void 0)}))}}re("log-wrapper",_,function(){var e=Ve((function*(e,t){var{type:r,field:n}=t;return ne(t.type,e)?function(){var t=Ve((function*(t,o,i,a){var[c,u]=[t,o].map((e=>{try{return JSON.stringify(e,null,2)}catch(t){return"Unable to JSON.stringify"}}));console.log("--- START: field resolver on ".concat(r.name,".").concat(null==n?void 0:n.name," ---")),console.log(""),console.log("parent:"),console.log(c),console.log(""),console.log("args:"),console.log(u),console.log("");var s=yield e(t,o,i,a),l=JSON.stringify(s,null,2);return console.log("result:"),console.log(l),console.log(""),console.log("--- END: field resolver on ".concat(r.name,".").concat(null==n?void 0:n.name," ---")),s}));return function(e,r,n,o){return t.apply(this,arguments)}}():oe(t.type,e)?function(){var t=Ve((function*(t,n,o,i){var[a]=[t].map((e=>{try{return JSON.stringify(e,null,2)}catch(t){return"Unable to JSON.stringify"}}));console.log("--- START: type resolver on ".concat(r.name," ---")),console.log(""),console.log("value:"),console.log(a),console.log("");var c=yield e(t,n,o,i),u=JSON.stringify(c,null,2);return console.log("result:"),console.log(u),console.log(""),console.log("--- END: type resolver on ".concat(r.name," ---")),c}));return function(e,r,n,o){return t.apply(this,arguments)}}():e}));return function(t,r){return e.apply(this,arguments)}}());function $e(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}var ze=Symbol("stash-state");re("stash-state",T,function(){var e,t=(e=function*(e){return(t,r,n,o)=>{var i=e(t,r,n,o);if("object"==typeof i&&null!==i){var a={parent:t,args:r,context:n,info:o,result:i};i[ze]=a}return i}},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$e(i,n,o,a,c,"next",e)}function c(e){$e(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),r(242);var Ke=r(413);function Xe(e){return Object.values(e).reduce(((e,t)=>[...e,...t]),[])}var Ze=Symbol("DOCUMENT_KEY"),et=Symbol("DOCUMENT_CONNECTIONS"),tt=Symbol("DOCUMENT_GRAPHQL_TYPENAME");function rt(e){return"string"==typeof e?e:e[Ze]}function nt(e,t){return"string"!=typeof t&&(t=rt(t)),Xe(e).find((e=>rt(e)===t))}class ot extends Event{constructor(e){var{document:t,store:r}=e;super("create"),this.name="create",this.store=r,this.document=t}}class it extends Event{constructor(e){var{document:t,store:r}=e;super("remove"),this.name="remove",this.store=r,this.document=t}}var at=r(411);class ct extends Event{constructor(e){var{document:t,store:r,changes:n}=e;super("modify"),this.name="modify",this.store=r,this.document=t,this.changes=n}}function ut(e,t){var{createdDocuments:r,removedDocuments:n,modifiedDocuments:o}=function(e,t){var r=Xe(e).map((e=>rt(e))),n=Xe(t).map((e=>rt(e))),o=r.filter((e=>!n.includes(e))),i=n.filter((e=>!r.includes(e))),a=r.filter((e=>!o.includes(e))).map((r=>({current:nt(e,r),previous:nt(t,r)}))).map((e=>{var{current:t,previous:r}=e,n=Object(at.diff)(t,r).reduce(((e,n)=>{var{path:o}=n,[i]=o;return e[i]={propertyName:i.toString(),value:t[i],previousValue:r[i]},e}),{});return Object.keys(n).length>0?{document:t,changes:n}:void 0})).filter(Boolean);return{createdDocuments:o.map((t=>({document:nt(e,t)}))),removedDocuments:i.map((e=>({document:nt(t,e)}))),modifiedDocuments:a}}(t,e);return[...r.map((e=>{var{document:r}=e;return new ot({document:r,store:t})})),...o.map((e=>{var{changes:r,document:n}=e;return new ct({document:n,store:t,changes:r})})),...n.map((e=>{var{document:r}=e;return new it({document:r,store:t})}))]}function st(e){return"ofType"in e?st(e.ofType):e}function lt(e,t){var r=st(t);return Object(w.N)(r)?[r]:Object(w.C)(r)?e.getPossibleTypes(r):[]}function ft(e){return"object"==typeof e&&null!=e&&Ze in e&&et in e}var pt=r(412),dt=new(r.n(pt).a)({length:8}),vt=()=>dt();function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gt(e,t,r){var n,o,i;if(!e)throw new Error("The document type name is a required argument");var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t);return Object.defineProperty(a,Ze,{enumerable:!1,configurable:!1,value:null!==(n=null!==(o=t[Ze])&&void 0!==o?o:r)&&void 0!==n?n:vt()}),Object.defineProperty(a,tt,{enumerable:!1,configurable:!1,value:e}),Object.defineProperty(a,et,{enumerable:!1,configurable:!1,value:null!==(i=t[et])&&void 0!==i?i:{}}),Object.defineProperty(a,"__typename",{configurable:!1,enumerable:!1,get:()=>e,set(){throw new Error("__typename on the document cannot be set")}}),a}function mt(e){return Object(w.J)(e)?e:Object(w.L)(e)?mt(e.ofType):void 0}function bt(e,t,r){var n,{store:o,schema:i}=e,a=gt(t,r),c=i.getType(t),u=null!==(n=(null==c?void 0:c.getFields)&&(null==c?void 0:c.getFields()))&&void 0!==n?n:{};o[t]=o[t]||[],o[t].push(a);var s=function(r){var n=u[r];if(!n)return"continue";var c=a[r],s=lt(i,n.type),l=s.length>0,f=l&&!mt(n.type);if(!l)return a[r]=c,"continue";if(null!=c){var p=(Array.isArray(c)?c:[c]).map((n=>{if(ft(n)&&void 0!==nt(o,n)||null===n)return n;if(n&&s.length>1)throw new Error('The "'.concat(t,'" with field "').concat(r,'" is represented by multiple types: ').concat(s.join(", "),". Therefore, cannot create document automatically for: \n\n ").concat(JSON.stringify(c,null,2),".\n\nUse the `create` operation within mutate to explicitly create this document with one of possible types (").concat(s.join(", "),") and assign the connection explictly."));var[i]=s;return bt(e,i.name,n)}));return a[r]=f&&1===p.length?p[0]:p,"continue"}};for(var l in a)s(l);return a}function Ot(e,t){var{store:r}=e;return nt(r,rt(t))}function wt(e,t){var r,{store:n}=e,o=rt(t);if(Object.entries(n).forEach((e=>{var[t,i]=e,a=i.find((e=>rt(e)===o));a&&(n[t]=i.filter((e=>e!==a)),r=a)})),!r)throw new Error("Could not find document with ".concat(o," to remove"));return r}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _t(e){var t=e.__typename,r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete r[Ze],delete r[tt],delete r[et],r[et]=function(e){var t={};for(var r in e)t[r]=[...e[r]];return t}(e[et]),gt(t,r)}function Et(e,t){var{store:r}=e,n=_t(t),o=n.__typename;return r[o]=r[o]||[],r[o].push(n),n}function Pt(e){var{store:t}=e;return t}function Ht(e,t){var{eventQueue:r}=e;r.push(t)}function Rt(e){return e[et]}var St=vt(),Mt=Object.freeze(gt("__NULL_DOCUMENT__",{},St)),xt=e=>"string"==typeof e?e===St:rt(e)===St;function Nt(e,t){var r=Rt(t),n=e.getType(t.__typename);if(!n)throw new Error("Could not find type ".concat(t.__typename," in the GraphQL Schema"));var o=n.getFields(),i=function(n){var i=t[n],a=o[n],c=lt(e,a.type).length>0,u=mt(a.type)&&c,s=!mt(a.type)&&c;if(!(u||s))return"continue";if(null==i)return"continue";var l=(Array.isArray(i)?i:[i]).map((e=>{if(!ft(e=null===e?Mt:e))throw new Error("Expected document in array on field ".concat(n,", got:\n").concat(JSON.stringify(e,null,2)));return rt(e)}));r[n]=l,delete t[n]};for(var a in o)i(a)}function Ft(e,t){for(var r in t){var n=t[r];for(var o of n)Nt(e,o)}}function At(e,t,r,n){var o,i=null!==(o=null==n?void 0:n.writable)&&void 0!==o&&o;return new Proxy(r,{get(r,n){var o,a,c;if(Reflect.has(r,n)||"string"!=typeof n)return Reflect.get(r,n);var u=e.getType(null!==(o=r.__typename)&&void 0!==o?o:""),s=null==u||null===(a=u.getFields())||void 0===a?void 0:a[n],l=s&&lt(e,s.type).length>0;if(u&&s&&l){var f=Object(w.L)(s.type),p=!mt(s.type)&&l,d=Rt(r);if(null===d[n])return null;if(Array.isArray(d[n])){var v,h=d[n].map((e=>xt(e)?null:nt(t,e)));return p?null!==(v=h[0])&&void 0!==v?v:null:h}if(f){if(p)return;if(i){var y=[];return r[s.name]=y,y}return Object.freeze([])}return null}return null!==(c=Reflect.get(r,n))&&void 0!==c?c:null},set(e,t,r){if(!i)throw new Error("Setting on data pulled from the store is not allowed, use the `mutate` method.");return Reflect.set(e,t,r)}})}function kt(e,t){for(var r in t)Array.isArray(t[r])&&(t[r]=t[r].map((r=>At(e,t,r,{writable:!0}))))}function It(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function Dt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){It(i,n,o,a,c,"next",e)}function c(e){It(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Lt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Dt((function*(e,t){var r=[];for(var n of e)r.push(yield n(t));return r}))).apply(this,arguments)}function qt(e,t){var r={};for(var n in e){var o=e[n];r[n]=o.bind(null,t)}return r}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function Bt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Qt(i,n,o,a,c,"next",e)}function c(e){Qt(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Yt(){return(Yt=Bt((function*(e,t,r,n,o){kt(t,e);var i=[];n=Object.freeze(Ct({},n));var a=qt(r,{schema:t,store:e,eventQueue:i});yield Lt(n.beforeTransaction,a);var c=yield o(a);return yield Lt(n.afterTransaction,a),Ft(t,e),{transactionResult:c,eventQueue:i}}))).apply(this,arguments)}function Jt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function Vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Jt(i,n,o,a,c,"next",e)}function c(e){Jt(i,n,o,a,c,"throw",e)}a(void 0)}))}}class $t{constructor(){this.chain=Promise.resolve()}enqueue(){var e,t=new Promise((t=>{e=t})),r=this.chain;return this.chain=this.chain.then(Vt((function*(){yield t}))),{previous:r,finish:e}}}function zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t);for(var n in r)Array.isArray(r[n])&&(r[n]=r[n].map((t=>At(e,r,t))),Object.freeze(r[n]));return Object.freeze(r)}class Zt extends Error{constructor(e){var{typename:t}=e;super(),this.name="TypeDoesNotExist",this.message='The type "'.concat(t,'" does not exist in the the graphql schema.')}}class er extends Error{constructor(e){var t,{type:r}=e;super(),this.name="TypeIsNotDocumentCompatible",this.message='The type "'.concat(r.name,'" is a ').concat(null===(t=r.astNode)||void 0===t?void 0:t.kind," but cannot be represented by a document")}}function tr(e,t,r,n){if(!xt(t)){var o,i=t.__typename,a=e.getType(i);if(!a)throw new Error("Type ".concat(i," does not exist in the graphql schema."));if(!Object(w.N)(a))throw new er({type:a});if(!function(e,t){return Boolean(e.getType(t))}(e,i))throw new Zt({typename:i});[...n.document,(o=n.field,{validate(e){var{graphqlSchema:t,type:r,document:n,store:i}=e,a=r.getFields(),c=function(e){var c=a[e],u=n[e],s=Rt(n)[e];o.forEach((e=>{e.skipConnectionValue&&s||e.skipNullValue&&null==u||e.validate({type:r,field:c,document:n,fieldName:c.name,fieldValue:u,fieldConnections:s,graphqlSchema:t,store:i})}))};for(var u in a)c(u)}})].forEach((n=>n.validate({store:r,graphqlSchema:e,document:t,type:a})))}}class rr extends Error{constructor(e){var{type:t,fieldName:r}=e;super(),this.name="TypeDoesNotExist",this.message='The field "'.concat(r,'" does not exist on the type ').concat(t.name,".")}}var nr={validate(e){var{document:t,type:r}=e,n=Object.keys(t),o=Object.keys(r.getFields()),i=n.find((e=>!o.includes(e)));if(i)throw new rr({type:r,fieldName:i})}};function or(e,t){var{schema:r,store:n}=t;return e===Mt||null===e?null:ft(e)?At(r,n,e):e}function ir(e){if(Object(O.c)(e))return function(e){return Object(Ie.c)(Object(De.b)(e))}(e);if("object"==typeof e&&"Document"===e.kind)try{return Object(Ie.b)(e)}catch(t){throw new Error("Unable to build a schema from the AST Schema passed into the `graphqlSchema` dependency. Failed with error:\n\n"+t.message)}if("string"==typeof e)try{return Object(Ie.c)(e)}catch(t){throw new Error("Unable to build a schema from the string passed into the `graphqlSchema` dependency. Failed with error:\n\n"+t.message)}throw new Error("Unable to build schema, pass in an instance of schema or a string")}class ar extends Error{constructor(e){var{field:t,actual:r,expected:n}=e;super(),this.name="FieldReturnTypeMismatch";var o,i=t.type;o=Object(w.J)(i)?"[".concat(i.ofType,"]"):Object(w.L)(i)?"".concat(i.ofType,"! (non-null)"):i.name,this.message='The field "'.concat(t.name,'" represents a graphql "').concat(o,'" type and on the document should be a ').concat(n,", but got ").concat(r)}}var cr={skipConnectionValue:!1,skipNullValue:!0,validate(e){var{field:t,fieldValue:r,fieldConnections:n}=e,o=mt(t.type);if(Object(w.J)(o)){if(r&&!Array.isArray(r))throw new ar({field:t,expected:"Array",actual:typeof r});if(!Object(w.M)(null==o?void 0:o.ofType)){var i,a=Array.isArray(r)?r.findIndex((e=>null==e)):-1,c=null!==(i=null==n?void 0:n.findIndex((e=>e===St)))&&void 0!==i?i:-1;if(-1!==a)throw new ar({field:t,expected:"non-null list",actual:"".concat(r[a]," in the array")});if(-1!==c)throw new ar({field:t,expected:"non-null list",actual:"connected null document"})}}}},ur={skipConnectionValue:!0,skipNullValue:!0,validate(e){var{field:t,fieldValue:r}=e;if(Object(w.N)(t.type)&&"object"!=typeof r)throw new ar({field:t,expected:"object",actual:typeof r})}},sr={skipConnectionValue:!1,skipNullValue:!0,validate(e){var{field:t,fieldValue:r}=e;if(Object(w.R)(t.type)&&!["boolean","number","string"].includes(typeof r))throw new ar({field:t,expected:"boolean, number, string",actual:typeof r})}},lr={skipConnectionValue:!0,skipNullValue:!0,validate(e){var t,{type:r,fieldName:n,fieldValue:o,store:i,field:a}=e,c=st(a.type),u=null!==(t=i[r.name])&&void 0!==t?t:[];if("ID"===(null==c?void 0:c.name)){var s=u.filter((e=>e[n]===o));if(s.length>1){var l=s.map((e=>JSON.stringify(e,null,2))).join("\n\n");throw new Error('Found duplciate documents with same ID ("'.concat(o,'") for type "').concat(r.name,'" on field "').concat(n,'":\n\n').concat(l,'"'))}}}};function fr(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,o)}function pr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fr(i,n,o,a,c,"next",e)}function c(e){fr(i,n,o,a,c,"throw",e)}a(void 0)}))}}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object(Ke.b)(!1);r(243);var yr=r(414),gr=r(421),mr="\n  schema {\n    query: Query\n    mutation: Mutation\n  }\n\n  type Query {\n    movies(name: String): [Movie!]!\n    characters: [Character!]!\n  }\n\n  type Mutation {\n    createFilm(name: String!, year: String!, characterIds: [String!]!): Movie!\n    createCharacter(name: String!): Character!\n  }\n\n  type Movie {\n    id: ID!\n    name: String!\n    year: String!\n    characters: [Character!]!\n  }\n\n  type Character {\n    id: ID!\n    name: String!\n  }\n",br=r(424),Or=new class{constructor(e,t){this.history=[],this.mutateQueue=new $t,this.events=new EventTarget,this.validators={document:[nr],field:[cr,ur,sr,lr]},this.hooks={beforeTransaction:[],afterTransaction:[]};var r=ir(e);this.current=function(e){var t={};if(!e)return t;var r=e.getTypeMap();for(var n in r){var o,i,a,c=r[n],u=c.name.startsWith("__"),s=[null===(o=e.getQueryType())||void 0===o?void 0:o.name,null===(i=e.getMutationType())||void 0===i?void 0:i.name,null===(a=e.getSubscriptionType())||void 0===a?void 0:a.name];!Object(w.N)(c)||u||s.includes(c.name)||(t[c.name]=[])}return t}(r),this.sourceGraphQLSchema=r,this.operations=vr(vr({},null==t?void 0:t.operations),n)}get data(){return Xt(this.sourceGraphQLSchema,this.current)}find(e){return nt(this.data,e)}validate(e){var t=null!=e?e:this.current;Object.values(t).forEach((e=>{e.forEach((e=>{tr(this.sourceGraphQLSchema,e,t,this.validators)}))}))}dispatchEvents(e){var t=this.events;e.forEach((e=>t.dispatchEvent(e)))}mutate(e){var t=this;return pr((function*(){var{previous:r,finish:n}=t.mutateQueue.enqueue();yield r;var o,i=t.sourceGraphQLSchema,a=t.current,c=t.hooks,u=t.operations,s=[],l=yield Object(Ke.a)(a,function(){var t=pr((function*(t){var{transactionResult:r,eventQueue:n}=yield function(e,t,r,n,o){return Yt.apply(this,arguments)}(t,i,u,c,e);o=function(e){var t=new Error("Return values from transactions must be null, undefined, a Document, array of Document or an object with Document values");if(null==e)return e;if(ft(e))return rt(e);if(Array.isArray(e))return e.map((e=>{if(!ft(e))throw t;return rt(e)}));if("object"==typeof e){var r={};for(var n in e){var o=e[n];if(!ft(o))throw t;r[n]=rt(o)}return r}throw t}(r),s=n}));return function(e){return t.apply(this,arguments)}}());t.validate(l);var f=ut(a,l);return t.dispatchEvents([...f,...s]),t.current=l,t.history.push(l),n(),function(e,t,r){if(null==r)return r;if("string"==typeof r)return or(nt(t,r),{store:t,schema:e});if(Array.isArray(r))return r.map((r=>or(nt(t,r),{store:t,schema:e})));if("object"==typeof r){var n={};for(var o in r){var i=r[o],a=nt(t,i);n[o]=or(a,{store:t,schema:e})}return n}}(i,l,o)}))()}}(mr);Or.mutate((function(e){var t=e.create,r=t("Character",{name:"Mike Wazowski"}),n=t("Character",{name:"Boo"}),o=t("Character",{name:"Joe Gardner"}),i=t("Character",{name:"Moonwind"});t("Movie",{name:"Monsters, Inc.",characters:[n,r],year:"2001"}),t("Movie",{name:"Soul",characters:[o,i],year:"2020"})}));var wr=He({wrappers:[gr.logWrapper],highlight:function(e){return e.include(Object(br.field)(["*","*"]))}}),jr={Query:{movies:function(e,t,r){var n=Object(yr.extractDependencies)(r,["paper"]).paper.data.Movie;return t.name&&(n=n.filter((function(e){var r;return null==e||null===(r=e.name)||void 0===r?void 0:r.startsWith(t.name)}))),n}},Mutation:{create:function(e,t,r){var n=t.name,o=t.year,i=t.characterIds;return Object(yr.extractDependencies)(r,["paper"]).paper.mutate((function(e){var t=e.create,r=(0,e.getStore)(),a=i.map((function(e){return r.data.Character.find((function(t){return t.id===e}))})).filter(Boolean);return t("Movie",{name:n,year:o,characters:a})}))},createCharacter:function(e,t,r){var n=t.name;return Object(yr.extractDependencies)(r,["paper"]).paper.mutate((function(e){return(0,e.create)("Character",{name:n})}))}}},Tr=new class{constructor(e){var t,r,n,o;this.packed=!1;var i=Le(null===(t=e.dependencies)||void 0===t?void 0:t.graphqlSchema),a=Be(Be({},e.dependencies),{},{graphqlSchema:i});this.packOptions=Ne({dependencies:a,state:e.state}),this.graphqlSchema=i,this.initialContext=e.initialContext,this.initialResolverMap=null!==(r=e.resolverMap)&&void 0!==r?r:{},this.state=null!==(n=e.state)&&void 0!==n?n:{},this.middlewares=null!==(o=e.middlewares)&&void 0!==o?o:[]}query(e,t,r,n){var o=this;return Ue((function*(){var i,a,c=o.initialContext,u=o.packOptions,s=o.graphqlSchema;t=null!==(i=t)&&void 0!==i?i:{},r=null!==(a=r)&&void 0!==a?a:{},yield o.pack();var l=function(e){var{initialContext:t,queryContext:r,packOptions:n}=e;return qe(qe(qe({},t),r),{},{pack:n})}({initialContext:c,queryContext:r,packOptions:u});return Object(g.a)(Be(Be({},n),{},{source:e,schema:s,variableValues:t,contextValue:l}))}))()}pack(){var e=this;return Ue((function*(){var{initialResolverMap:t,middlewares:r,packOptions:n,graphqlSchema:o}=e;if(!e.packed){var{resolverMap:i,state:a}=yield Ae(t,r,n);e.state=a,ke(o,i)}e.packed=!0}))()}}({resolverMap:jr,middlewares:[wr],dependencies:{graphqlSchema:mr,paper:Or}});t.default=function(){var e=Object(f.a)().siteConfig,t=void 0===e?{}:e;return i.a.createElement(s.a,{title:"Home",description:t.tagline},i.a.createElement("div",{className:"container"},i.a.createElement("header",{className:"hero"},i.a.createElement("div",{className:"hero__content"},i.a.createElement("h1",{className:"hero__title"},i.a.createElement("code",null,t.title)),i.a.createElement("p",{className:"hero__subtitle"},t.tagline)),i.a.createElement("div",{className:"hero__slices"},i.a.createElement("section",{className:"hero__slice"},i.a.createElement("img",{src:"img/highlight.svg",className:u()("hero__logo")}),i.a.createElement("h2",null,"Highlight"),i.a.createElement("p",null,"Use ",i.a.createElement("code",null,"Highlight")," to flexibly select parts of the schema to operate on")),i.a.createElement("section",{className:"hero__slice"},i.a.createElement("img",{src:"img/logo.svg",className:u()("hero__logo")}),i.a.createElement("h2",null,"Mock"),i.a.createElement("p",null,"Declaratively mock resolvers using wrappers and middlewares to cover various scenarios")),i.a.createElement("section",{className:"hero__slice"},i.a.createElement("img",{src:"img/paper.svg",className:u()("hero__logo")}),i.a.createElement("h2",null,"Store"),i.a.createElement("p",null,"Persist mutations and control stateful data with a ",i.a.createElement("code",null,"graphql-paper")," in-memory store"))),i.a.createElement("div",{className:"hero__content"},i.a.createElement("div",null,i.a.createElement(l.a,{className:u()("button button--secondary button--lg",v.a.getStarted),to:Object(p.a)("docs/getting-started/introduction")},"Get Started")))),i.a.createElement("main",null,i.a.createElement("div",{className:"demo"},i.a.createElement("h2",{className:"feature__heading"},"Demo"),i.a.createElement("div",{className:"feature__dot-grid"}),i.a.createElement("p",null,"\u26a0\ufe0f Warning: ",i.a.createElement("strong",null,"No servers")," are used, or harmed, in the resolving of these GraphQL queries"),i.a.createElement("p",null,"To quickly show a few of the features in action here we have:"),i.a.createElement("ul",null,i.a.createElement("li",null,"Setting up a GraphQL query handler and making a query"),i.a.createElement("li",null,"Using ",i.a.createElement("code",null,"graphql-paper")," package, an in-memory graphql store, which allows stateful queries (try a mutation and see the change persist in subsequent queries)"),i.a.createElement("li",null,"An embedded ",i.a.createElement("code",null,"logWrapper")," ",i.a.createElement("em",null,"highlighted on all")," root-level Query resolvers for logging")),i.a.createElement("p",null,"Go ahead and do a few queries and mutations (see changes persist)"),i.a.createElement("div",{className:v.a["yellow-outline"],style:{height:"400px"}},i.a.createElement(y.a,{storage:{removeItem:function(){},getItem:function(){},setItem:function(){}},query:'{\n  movies(name:"Mo") {\n    name\n    year\n    characters {\n      name\n    }\n  }\n}',docExplorerOpen:!1,fetcher:function(e){return Tr.query(e.query).then((function(e){return e}))}})),i.a.createElement("h2",null,"The Code"),i.a.createElement(a.a,{className:" "+v.a["banner-code"]+" "+v.a["yellow-outline"]+" ",language:"javascript"},"\n// 1. Setup your handler\n\nconst handler = new GraphQLHandler({\n  // optionally, provide a base resolver map\n  resolverMap,\n\n  // use middlewares from packages, make your own,\n  // and embed resolver wrappers\n  middlewares: [\n    embed({\n      // Highlight makes it easy to declaratively select\n      // what resolvers should be wrapped with the `logWrapper`\n      highlight: (h) => h.include(field(['Query', '*']))\n      wrappers: [logWrapper],\n    }),\n  ]\n\n  // add dependencies needed by middlewares or resolvers\n  dependencies: {\n    graphqlSchema,\n    paper: new Paper(graphqlSchema)\n  },\n});\n\n\n// 2. Run queries (or mutations)!\n\nhandler.query(`\n  query {\n    ...\n  }\n`);\n          ")))))}}}]);