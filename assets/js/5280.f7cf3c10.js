"use strict";(self.webpackChunk_graphql_mocks_docs=self.webpackChunk_graphql_mocks_docs||[]).push([[5280],{45280:function(e,r,n){n.r(r),n.d(r,{createHandler:function(){return On}});var t={};n.r(t),n.d(t,{clone:function(){return wr},create:function(){return dr},find:function(){return hr},getStore:function(){return Or},queueEvent:function(){return Tr},remove:function(){return yr}});var o=n(17180),i=n(12873),a=n(80624),u=n(59135),c=n(5072),f=n(81489),s="TYPE",l="FIELD",p="ANY";function v(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function d(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){v(i,t,o,a,u,"next",e)}function u(e){v(i,t,o,a,u,"throw",e)}a(void 0)}))}}function h(e){return e&&"name"in e&&"wrap"in e}function y(e,r,n){return g.apply(this,arguments)}function g(){return g=d((0,o.Z)().mark((function e(r,n,t){var i,a,u,c,p,v;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[].concat(n),i=n.shift(),"function"==typeof r){e.next=4;break}throw new Error("Resolver for wrapResolver must be a function, got ".concat(typeof r));case 4:if(i){e.next=6;break}return e.abrupt("return",r);case 6:if(a=i.name||"UNNAMED",!h(i)){e.next=16;break}if(a=(u=i).name,(c=u.wrapperFor)!==l||(0,f.lp)(t.type)){e.next=13;break}throw new Error('Wrapper "'.concat(a,'" is for FIELD resolvers and can\'t wrap ["').concat(t.type.name,'", "').concat(null===(p=t.field)||void 0===p?void 0:p.name,'"].'));case 13:if(c!==s||(0,f.m0)(t.type)){e.next=15;break}throw new Error('Wrapper "'.concat(a,'" is for TYPE resolvers and can\'t wrap ["').concat(t.type.name,'"].'));case 15:i=i.wrap.bind(i);case 16:return e.next=18,i(r,t);case 18:if("function"==typeof(v=e.sent)){e.next=21;break}throw new Error('Wrapper "'.concat(a,'" was not a function or did not have a wrap method, got ').concat(typeof v,"."));case 21:return e.abrupt("return",y(v,n,t));case 22:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function m(e){return"string"==typeof e}function b(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]}function w(e,r){if(m(r)){var n,t=null===(n=e[r])||void 0===n?void 0:n.__resolveType;return t||void 0}if(b(r)){var o,i=r[0],a=r[1],u=null===(o=e[i])||void 0===o?void 0:o[a];return u||void 0}}function O(e){return b(e)||m(e)}function T(e,r){var n;if(m(r))return null!==(n=e.getType(r))&&void 0!==n?n:void 0;if(b(r)){var t,o=r[0];return null!==(t=e.getType(o))&&void 0!==t?t:void 0}}function j(e,r){var n=r[0],t=r[1],o=e.getType(n);if(o&&"getFields"in o)return o.getFields()[t]}function P(e,r){if(m(r))return T(e,r);if(b(r)){var n=r[0],t=r[1],o=T(e,n),i=j(e,[n,t]);if((0,f.lp)(o)&&i)return[o,i];if((0,f.hL)(o)&&i)return[o,i]}}function x(e,r,n,t){var o,i,a,u=(t=null!==(o=t)&&void 0!==o?o:{}).graphqlSchema,c=null!==(i=t.replace)&&void 0!==i&&i;if("function"!=typeof n)throw new TypeError("Expected resolver to be a function, got ".concat(typeof n));if("object"!=typeof e)throw new TypeError("Expected resolverMap must be an object, got ".concat(typeof e));if(!O(r))throw new TypeError("Expected reference to be a type reference or field reference, got ".concat(typeof r));var s=b(r)?{type:r[0],field:r[1]}:{type:r,field:"__resolveType"};if(u){var l=P(u,r);if(!l)throw new Error("Expected to find reference ".concat(r," in schema"));if(m(r)&&!(0,f.m0)(l))throw new Error("Expected reference ".concat(r," to be an Interface or Union type"));if(b(r)&&Array.isArray(l)&&!(0,f.lp)(l[0])){var p=r[0],v=r[1];throw new Error("Could not find reference [".concat(p,", ").concat(v,"] ([type name, field name]) in the GraphQL Schema"))}}if(w(e,r)&&!c)throw new Error("Cannot add resolver to resolver map at ".concat(r," because a resolver already exists ")+"and the replace is set to ".concat(c));return e[s.type]=null!==(a=e[s.type])&&void 0!==a?a:{},e[s.type][s.field]=n,e}var _="*",k="<ROOT_QUERY_TYPE>",E="<ROOT_MUTATION_TYPE>";function H(e,r){return[].concat(e,r)}var R=function(){function e(e){0===e.length&&(e=[[_,_]]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(r,n){return n.map((function(n){return e.expandTarget(r,n)})).reduce(H,[])},e.expandTarget=function(e,r){var n,t=this,o=r[0],i=r[1];if(o===_){var a=Object.values(e.getTypeMap()).filter((function(e){return!e.name.startsWith("__")})).map((function(r){return r&&"getFields"in r&&!(0,f.j$)(r)?t.expandTarget(e,[r.name,i]):void 0})).filter(Boolean).reduce(H,[]);return a}var u=e.getType(o);if(!u)return[];if(o===k){var c=e.getQueryType();if(!c)return[];u=c}if(o===E){var s=e.getMutationType();if(!s)return[];u=s}if(!u||!(null===(n=u)||void 0===n?void 0:n.name)||!("getFields"in u))return[];var l=u.getFields();return(i===_?Object.keys(l):[i]).filter((function(e){return Object.keys(l).includes(e)})).map((function(e){var r;return(null===(r=u)||void 0===r?void 0:r.name)&&e?[u.name,e]:void 0})).filter(Boolean)},e}(),M=function(){function e(e){0===e.length&&(e=[_]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n,t,o=Object.keys(e.getTypeMap());if(r.includes(_))return o;var i=r.includes(k),a=r.includes(E);r=r.filter((function(e){return e!==k&&e!==E}));var u=null===(n=e.getQueryType())||void 0===n?void 0:n.name;u&&i&&r.push(u);var c=null===(t=e.getMutationType())||void 0===t?void 0:t.name;return c&&a&&r.push(c),r.filter((function(e){return o.includes(e)}))},e}();function A(e){return e.include(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new M(r)}(),function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new R(r)}())}function F(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?F(Object(n),!0).forEach((function(r){I(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function I(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function L(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function Z(e,r){return Boolean((0,f.lp)(e)&&r)}function D(e,r){return Boolean((0,f.m0)(e)&&r)}var N=function(){function e(e,r,n){if("string"!=typeof e)throw new Error("Specify a string for the name argument for createWrapper");this.name=e,this.wrapper=n,this.wrapperFor=r}return e.prototype.wrap=function(e,r){var n,t=this;return(n=(0,o.Z)().mark((function n(){var i,a,u,c,f,v,d,h,y,g,m,b,w;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.type,a=r.field,u=t.wrapper,c=t.wrapperFor,!Z(i,f={resolver:e,wrapper:u,options:r})||!a||c!==l){n.next=10;break}return v=f.wrapper,d=f.resolver,h=f.options,y=S(S({},h),{},{type:h.type,field:h.field}),n.abrupt("return",v(d,y));case 10:if(!D(i,f)||a||c!==s){n.next=16;break}return g=f.wrapper,m=f.resolver,b=f.options,w=S(S({},b),{},{type:i,field:void 0}),n.abrupt("return",g(m,w));case 16:if(c!==p){n.next=18;break}return n.abrupt("return",u(e,r));case 18:return n.abrupt("return",e);case 19:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(e){L(i,t,o,a,u,"next",e)}function u(e){L(i,t,o,a,u,"throw",e)}a(void 0)}))})()},e}();function G(e,r,n){return new N(e,r,n)}function q(e,r){return Boolean((0,f.lp)(e)&&r)}function W(e,r){return Boolean((0,f.m0)(e)&&r)}function C(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function U(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?C(Object(n),!0).forEach((function(r){Q(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Q(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function B(e,r){var n;return e=U(U({},e=null!==(n=e)&&void 0!==n?n:{}),{},{pack:e.pack||r})}function Y(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}var J=G("embed-pack-options",p,function(){var e,r=(e=(0,o.Z)().mark((function e(r,n){var t,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q(t=n.type,r)){e.next=4;break}return i=function(e,t,o,i){return o=B(o,n.packOptions),r(e,t,o,i)},e.abrupt("return",i);case 4:if(!W(t,r)){e.next=7;break}return a=function(e,t,o,i){return t=B(t,n.packOptions),r(e,t,o,i)},e.abrupt("return",a);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){Y(i,t,o,a,u,"next",e)}function u(e){Y(i,t,o,a,u,"throw",e)}a(void 0)}))});return function(e,n){return r.apply(this,arguments)}}()),V=n(42495);function z(e,r){return[].concat(e,r)}function K(e,r){return e===r||Array.isArray(e)&&Array.isArray(r)&&e[0]===r[0]&&e[1]===r[1]}function $(e,r){return(0,u.F2w)(K)(e,r)}function X(e,r){return e.filter((function(e){return Boolean(r.find((function(r){return K(r,e)})))}))}var ee=n(22674),re=n(41702);var ne=function(e){function r(r){var n=r.map((function(e){return" * ".concat(e.message)})).join("\n"),t="References failed validation with errors:\n".concat(n);return e.call(this,t)||this}return(0,ee.Z)(r,e),r}((0,re.Z)(Error));var te=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{mark:function(){return r.filter(O)}}};function oe(e){return m(e)||b(e)?te(e):"object"==typeof(r=e)&&null!=r&&"mark"in r&&"function"==typeof r.mark?e:void 0;var r}var ie=["Int","Float","String","Boolean","ID"],ae=function(){function e(e,r){var n;this.schema=e,r=null!==(n=r)&&void 0!==n?n:[],this.validate(r),this.references=r}var r=e.prototype;return r.include=function(){for(var e=z,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o=n.map(oe).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)},r.exclude=function(){for(var e=$,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o=n.map(oe).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)},r.filter=function(){for(var e=X,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o=n.map(oe).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)},r.clone=function(r){return new e(this.schema,r)},r.applyHighlighters=function(e,r){var n,t=this.schema,o=(0,u.d9v)(this.references),i=r.reduce((function(r,n){var o=n.mark(t);return e(r,o)}),o).filter((function(e){var r;return b(e)&&(r=e[0]),m(e)&&(r=e),!r||!r.startsWith("__")&&!ie.includes(r)}));return n=[],i.forEach((function(e){n.find((function(r){return(0,u.fS0)(e,r)}))||n.push(e)})),i=n},r.validate=function(e){var r=this,n=e.map((function(e){return function(e,r){var n=JSON.stringify(r);return m(r)||b(r)?m(r)&&!T(e,r)?new Error("Type Reference ".concat(n," could not be found in the GraphQLSchema")):b(r)&&!j(e,r)?new Error("Field Reference ".concat(n," could not be found in the GraphQLSchema")):null:new Error("Reference ".concat(n,' is not a valid type reference `"TypeName"` or valid field reference `["TypeName", "fieldName"]`'))}(r.schema,e)})).filter(Boolean);if(0!==n.length)throw new ne(n)},(0,V.Z)(e,[{key:"instances",get:function(){var e=function(e,r){var n={};return r.filter(m).map((function(r){return T(e,r)})).forEach((function(e){e&&(n[e.name]={type:e})})),r.filter(b).map((function(r){var n=r[0],t=r[1];return[n,j(e,[n,t])]})).forEach((function(r){var t=r[0],o=r[1];if(o){var i,a,u=T(e,t);if(!u)return;if(n[t]=null!==(i=n[t])&&void 0!==i?i:{type:u},!o)return;n[t].fields=null!==(a=n[t].fields)&&void 0!==a?a:{},n[t].fields[o.name]=o}})),n}(this.schema,this.references);return{types:e}}}]),e}();function ue(e,r){if(r instanceof ae)return r;if(Array.isArray(r))return new ae(e).include(te.apply(void 0,r));if("function"==typeof r)return r(new ae(e));throw new Error("Unable to coerce highlight, got ".concat(typeof r,". Must be either an array of References, ")+"a callback that receives a Highlight instance, or a Highlight instance")}function ce(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{mark:function(e){var n,t=r.map((function(r){return r.mark(e)}));return(n=[]).concat.apply(n,t)}}}var fe=function(){function e(e){0===e.length&&(e=[_]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n=Object.values(e.getTypeMap()).filter(f.oT).map((function(e){return e.name}));return r.includes(_)?n:n.filter((function(e){return r.includes(e)}))},e}(),se=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new fe(r)},le=n(15390);function pe(e,r){return[].concat(e,r)}function ve(e){var r,n;e=e.trim();try{n=(0,le.Qc)("\n    type Noop {\n      noop: ".concat(e,"\n    }\n  "))}catch(o){return}var t=n.definitions[0];return(null==t||null===(r=t.fields)||void 0===r?void 0:r[0]).type}function de(e,r){if(e&&"type"in e&&(r&&"type"in r)&&e.kind===r.kind)return de(e.type,r.type);if("object"==typeof e&&"object"==typeof r){var n=(0,u.rO9)({loc:function(){},name:(0,u.CEd)(["loc"])});return(0,u.fS0)(n(e),n(r))}return!1}var he=function(){function e(e){0===e.length&&(e=[_]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(r,n){return n.includes(_)?e.allFieldResolvables(r):n.map(ve).filter(Boolean).map((function(n){return e.expandTarget(r,n)})).reduce(pe,[])},e.expandTarget=function(e,r){var n=Object.values(e.getTypeMap()).filter(f.lp).map((function(e){return Object.values(e.getFields()).reduce((function(n,t){var o,i=null===(o=t.astNode)||void 0===o?void 0:o.type;return de(r,i)&&n.push([e.name,t.name]),n}),[])})).reduce(pe,[]);return n},e.allFieldResolvables=function(e){var r=Object.values(e.getTypeMap()).filter(f.lp).filter((function(e){return!e.name.startsWith("__")})).map((function(e){return Object.values(e.getFields()).map((function(r){return"resolve"in r&&[e.name,r.name]}))})).reduce(pe,[]).filter(Boolean);return r},e}(),ye=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new he(r)},ge=function(){function e(e){0===e.length&&(e=[_]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n=Object.values(e.getTypeMap()).filter(f.EN).map((function(e){return e.name}));return r.includes(_)?n:n.filter((function(e){return r.includes(e)}))},e}(),me=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new ge(r)};function be(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function we(e){var r=e.resolver,n=e.highlight,t=void 0===n?A:n,i=e.wrappers,u=void 0===i?[]:i,s=e.replace,l=void 0!==s&&s;return function(){var e,n=(e=(0,o.Z)().mark((function e(n,i){var s,p,v,d,h,g,O,T,j,_,k,E,H,R;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.dependencies.graphqlSchema,(0,c.nN)(s)){e.next=3;break}throw new Error('"graphqlSchema" is an expected dependency, got type '.concat(typeof s));case 3:p=ue(s,t).filter(ce(ye(),me(),se())),v=(0,a.Z)(p.references);case 5:if((d=v()).done){e.next=28;break}if(h=d.value,g=w(n,h),O=l,!(T=r)||!g||O){e.next=13;break}throw j=JSON.stringify(h),new Error("Tried to add a new resolver via `embed` at ".concat(j," but a resolver already ")+"exists there. If this was intended use the `replace` option to replace the existing resolver.");case 13:if("function"!=typeof T&&(O=!0,T=g),T){e.next=16;break}return e.abrupt("continue",26);case 16:if(_=void 0,k=void 0,m(h)&&(E=P(s,h),_=E),b(h)&&(H=P(s,h),_=null==H?void 0:H[0],k=null==H?void 0:H[1]),_&&((0,f.lp)(_)||(0,f.m0)(_))){e.next=22;break}throw new Error("reference ".concat(JSON.stringify(h)," could not be resolved to a GraphQL Object, Union or Interface type"));case 22:return e.next=24,y(T,[].concat(u,[J]),{type:_,field:k,schema:s,resolverMap:n,packOptions:i});case 24:R=e.sent,x(n,h,R,{graphqlSchema:s,replace:O});case 26:e.next=5;break;case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){be(i,t,o,a,u,"next",e)}function u(e){be(i,t,o,a,u,"throw",e)}a(void 0)}))});return function(e,r){return n.apply(this,arguments)}}()}function Oe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Te(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Oe(Object(n),!0).forEach((function(r){je(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function je(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Pe={state:{},dependencies:{}};function xe(){var e,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=Te(Te({},Pe),{},{dependencies:null!==(e=n.dependencies)&&void 0!==e?e:Pe.dependencies,state:null!==(r=n.state)&&void 0!==r?r:Pe.state});return t}function _e(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}var ke=function(){var e,r=(e=(0,o.Z)().mark((function e(){var r,n,t,i,c,f,s,l=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>0&&void 0!==l[0]?l[0]:{},n=l.length>1&&void 0!==l[1]?l[1]:[],t=l.length>2&&void 0!==l[2]?l[2]:Pe,n=[].concat(n,[we({wrappers:[J]})]),i=(0,u.d9v)(r),t=xe(t),c=(0,a.Z)(n);case 7:if((f=c()).done){e.next=14;break}return s=f.value,e.next=11,s(i,t);case 11:i=e.sent;case 12:e.next=7;break;case 14:return e.abrupt("return",{resolverMap:i,state:t.state});case 15:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){_e(i,t,o,a,u,"next",e)}function u(e){_e(i,t,o,a,u,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();function Ee(e,r){!function(e,r){for(var n in r){var t=e.getType(n),o=r[n].__resolveType;Boolean(o)&&(0,f.m0)(t)&&(t.resolveType=o)}}(e,r),function(e,r){for(var n in r){var t=e.getType(n);if((0,f.lp)(t))for(var o in r[n]){var i=r[n][o],a=t.getFields(),u=Object.keys(a);"function"==typeof i&&u.includes(o)&&(a[o].resolve=i)}}}(e,r)}var He=n(58075),Re=n(224);function Me(e){if((0,c.nN)(e))return function(e){return(0,He.I)((0,Re.t3)(e))}(e);if("object"==typeof e&&"Document"===e.kind)try{return(0,He.M)(e)}catch(r){throw new Error("Unable to build a schema from the AST Schema passed into the `graphqlSchema` dependency. Failed with error:\n\n"+r.message)}if("string"==typeof e)try{return(0,He.I)(e)}catch(r){throw new Error("Unable to build a schema from the string passed into the `graphqlSchema` dependency. Failed with error:\n\n"+r.message)}throw new Error("Unable to build schema, pass in an instance of schema or a string")}function Ae(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Fe(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Ae(Object(n),!0).forEach((function(r){Se(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Se(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ie(e){var r=e.initialContext,n=e.queryContext,t=e.packOptions;return Fe(Fe(Fe({},r),n),{},{pack:t})}function Le(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function Ze(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){Le(i,t,o,a,u,"next",e)}function u(e){Le(i,t,o,a,u,"throw",e)}a(void 0)}))}}function De(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Ne(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?De(Object(n),!0).forEach((function(r){Ge(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Ge(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var qe=function(){function e(e){var r,n,t,o;this.packed=!1;var i=Me(null===(r=e.dependencies)||void 0===r?void 0:r.graphqlSchema),a=Ne(Ne({},e.dependencies),{},{graphqlSchema:i});this.packOptions=xe({dependencies:a,state:e.state}),this.graphqlSchema=i,this.initialContext=e.initialContext,this.initialResolverMap=null!==(n=e.resolverMap)&&void 0!==n?n:{},this.state=null!==(t=e.state)&&void 0!==t?t:{},this.middlewares=null!==(o=e.middlewares)&&void 0!==o?o:[]}var r=e.prototype;return r.applyMiddlewares=function(e,r){var n;null!==(n=null==r?void 0:r.reset)&&void 0!==n&&n||(e=[].concat(this.middlewares,e)),this.middlewares=e,this.packed=!1},r.query=function(e,r,n,t){var a=this;return Ze((0,o.Z)().mark((function u(){var c,f,s,l,p,v;return(0,o.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=a.initialContext,l=a.packOptions,p=a.graphqlSchema,r=null!==(c=r)&&void 0!==c?c:{},n=null!==(f=n)&&void 0!==f?f:{},o.next=7,a.pack();case 7:return v=Ie({initialContext:s,queryContext:n,packOptions:l}),o.abrupt("return",(0,i.B)(Ne(Ne({},t),{},{source:e,schema:p,variableValues:r,contextValue:v})));case 9:case"end":return o.stop()}}),u)})))()},r.pack=function(){var e=this;return Ze((0,o.Z)().mark((function r(){var n,t,i,a,u,c,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.initialResolverMap,t=e.middlewares,i=e.packOptions,a=e.graphqlSchema,e.packed){r.next=9;break}return r.next=4,ke(n,t,i);case 4:u=r.sent,c=u.resolverMap,f=u.state,e.state=f,Ee(a,c);case 9:e.packed=!0;case 10:case"end":return r.stop()}}),r)})))()},e}();function We(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function Ce(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){We(i,t,o,a,u,"next",e)}function u(e){We(i,t,o,a,u,"throw",e)}a(void 0)}))}}G("log-wrapper",p,function(){var e=Ce((0,o.Z)().mark((function e(r,n){var t,i,a,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.type,i=n.field,!q(n.type,r)){e.next=4;break}return a=function(){var e=Ce((0,o.Z)().mark((function e(n,a,u,c){var f,s,l,p,v;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=[n,a].map((function(e){try{return JSON.stringify(e,null,2)}catch(r){return"Unable to JSON.stringify"}})),s=f[0],l=f[1],console.log("--- START: field resolver on ".concat(t.name,".").concat(null==i?void 0:i.name," ---")),console.log(""),console.log("parent:"),console.log(s),console.log(""),console.log("args:"),console.log(l),console.log(""),e.next=11,r(n,a,u,c);case 11:return p=e.sent,v=JSON.stringify(p,null,2),console.log("result:"),console.log(v),console.log(""),console.log("--- END: field resolver on ".concat(t.name,".").concat(null==i?void 0:i.name," ---")),e.abrupt("return",p);case 18:case"end":return e.stop()}}),e)})));return function(r,n,t,o){return e.apply(this,arguments)}}(),e.abrupt("return",a);case 4:if(!W(n.type,r)){e.next=7;break}return u=function(){var e=Ce((0,o.Z)().mark((function e(n,i,a,u){var c,f,s,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[n].map((function(e){try{return JSON.stringify(e,null,2)}catch(r){return"Unable to JSON.stringify"}})),f=c[0],console.log("--- START: type resolver on ".concat(t.name," ---")),console.log(""),console.log("value:"),console.log(f),console.log(""),e.next=8,r(n,i,a,u);case 8:return s=e.sent,l=JSON.stringify(s,null,2),console.log("result:"),console.log(l),console.log(""),console.log("--- END: type resolver on ".concat(t.name," ---")),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(r,n,t,o){return e.apply(this,arguments)}}(),e.abrupt("return",u);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}());function Ue(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}var Qe=Symbol("stash-state");G("stash-state",l,function(){var e,r=(e=(0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e,n,t,o){var i=r(e,n,t,o);if("object"==typeof i&&null!==i){var a={parent:e,args:n,context:t,info:o,result:i};i[Qe]=a}return i}));case 1:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){Ue(i,t,o,a,u,"next",e)}function u(e){Ue(i,t,o,a,u,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}());var Be=n(76665);function Ye(e){return Object.values(e).reduce((function(e,r){return[].concat(e,r)}),[])}var Je=Symbol("DOCUMENT_KEY"),Ve=Symbol("DOCUMENT_CONNECTIONS"),ze=Symbol("DOCUMENT_GRAPHQL_TYPENAME");function Ke(e){return"string"==typeof e?e:e[Je]}function $e(e,r){return"string"!=typeof r&&(r=Ke(r)),Ye(e).find((function(e){return Ke(e)===r}))}var Xe=function(e){function r(r){var n,t=r.document,o=r.store;return(n=e.call(this,"create")||this).name="create",n.store=o,n.document=t,n}return(0,ee.Z)(r,e),r}((0,re.Z)(Event)),er=function(e){function r(r){var n,t=r.document,o=r.store;return(n=e.call(this,"remove")||this).name="remove",n.store=o,n.document=t,n}return(0,ee.Z)(r,e),r}((0,re.Z)(Event)),rr=n(24438),nr=function(e){function r(r){var n,t=r.document,o=r.store,i=r.changes;return(n=e.call(this,"modify")||this).name="modify",n.store=o,n.document=t,n.changes=i,n}return(0,ee.Z)(r,e),r}((0,re.Z)(Event));function tr(e,r){var n=function(e,r){var n=Ye(e).map((function(e){return Ke(e)})),t=Ye(r).map((function(e){return Ke(e)})),o=n.filter((function(e){return!t.includes(e)})),i=t.filter((function(e){return!n.includes(e)})),a=n.filter((function(e){return!o.includes(e)})),u=a.map((function(n){return{current:$e(e,n),previous:$e(r,n)}})).map((function(e){var r=e.current,n=e.previous,t=(0,rr.diff)(r,n).reduce((function(e,t){var o=t.path[0];return e[o]={propertyName:o.toString(),value:r[o],previousValue:n[o]},e}),{});return Object.keys(t).length>0?{document:r,changes:t}:void 0})).filter(Boolean),c=o.map((function(r){return{document:$e(e,r)}})),f=i.map((function(e){return{document:$e(r,e)}}));return{createdDocuments:c,removedDocuments:f,modifiedDocuments:u}}(r,e),t=n.createdDocuments,o=n.removedDocuments,i=n.modifiedDocuments,a=t.map((function(e){var n=e.document;return new Xe({document:n,store:r})})),u=i.map((function(e){var n=e.changes,t=e.document;return new nr({document:t,store:r,changes:n})})),c=o.map((function(e){var n=e.document;return new er({document:n,store:r})}));return[].concat(a,u,c)}function or(e){return"ofType"in e?or(e.ofType):e}function ir(e,r){var n=or(r);return(0,f.lp)(n)?[n]:(0,f.m0)(n)?e.getPossibleTypes(n):[]}function ar(e){return"object"==typeof e&&null!=e&&Je in e&&Ve in e}var ur=n(68322),cr=new(n.n(ur)())({length:8}),fr=function(){return cr()};function sr(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function lr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function pr(e,r,n){var t,o,i;if(!e)throw new Error("The document type name is a required argument");var a=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?sr(Object(n),!0).forEach((function(r){lr(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({},r);return Object.defineProperty(a,Je,{enumerable:!1,configurable:!1,value:null!==(t=null!==(o=r[Je])&&void 0!==o?o:n)&&void 0!==t?t:fr()}),Object.defineProperty(a,ze,{enumerable:!1,configurable:!1,value:e}),Object.defineProperty(a,Ve,{enumerable:!1,configurable:!1,value:null!==(i=r[Ve])&&void 0!==i?i:{}}),Object.defineProperty(a,"__typename",{configurable:!1,enumerable:!1,get:function(){return e},set:function(){throw new Error("__typename on the document cannot be set")}}),a}function vr(e){return(0,f.HG)(e)?e:(0,f.zM)(e)?vr(e.ofType):void 0}function dr(e,r,n){var t,o=e.store,i=e.schema,a=pr(r,n),u=i.getType(r),c=null!==(t=(null==u?void 0:u.getFields)&&(null==u?void 0:u.getFields()))&&void 0!==t?t:{};o[r]=o[r]||[],o[r].push(a);var f=function(n){var t=c[n];if(!t)return"continue";var u=a[n],f=ir(i,t.type),s=f.length>0,l=s&&!vr(t.type);if(!s)return a[n]=u,"continue";if(null!=u){var p=(Array.isArray(u)?u:[u]).map((function(t){if(ar(t)&&void 0!==$e(o,t)||null===t)return t;if(t&&f.length>1)throw new Error('The "'.concat(r,'" with field "').concat(n,'" is represented by multiple types: ').concat(f.join(", "),". Therefore, cannot create document automatically for: \n\n ").concat(JSON.stringify(u,null,2),".\n\nUse the `create` operation within mutate to explicitly create this document with one of possible types (").concat(f.join(", "),") and assign the connection explictly."));var i=f[0];return dr(e,i.name,t)}));return a[n]=l&&1===p.length?p[0]:p,"continue"}};for(var s in a)f(s);return a}function hr(e,r){return $e(e.store,Ke(r))}function yr(e,r){var n,t=e.store,o=Ke(r);if(Object.entries(t).forEach((function(e){var r=e[0],i=e[1],a=i.find((function(e){return Ke(e)===o}));a&&(t[r]=i.filter((function(e){return e!==a})),n=a)})),!n)throw new Error("Could not find document with ".concat(o," to remove"));return n}function gr(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function mr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function br(e){var r=e.__typename,n=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?gr(Object(n),!0).forEach((function(r){mr(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({},e);return delete n[Je],delete n[ze],delete n[Ve],n[Ve]=function(e){var r={};for(var n in e)r[n]=[].concat(e[n]);return r}(e[Ve]),pr(r,n)}function wr(e,r){var n=e.store,t=br(r),o=t.__typename;return n[o]=n[o]||[],n[o].push(t),t}function Or(e){return e.store}function Tr(e,r){e.eventQueue.push(r)}function jr(e){return e[Ve]}var Pr=fr(),xr=Object.freeze(pr("__NULL_DOCUMENT__",{},Pr)),_r=function(e){return"string"==typeof e?e===Pr:Ke(e)===Pr};function kr(e,r){var n=jr(r),t=e.getType(r.__typename);if(!t)throw new Error("Could not find type ".concat(r.__typename," in the GraphQL Schema"));var o=t.getFields(),i=function(t){var i=r[t],a=o[t],u=ir(e,a.type).length>0,c=vr(a.type)&&u,f=!vr(a.type)&&u;if(!(c||f))return"continue";if(null==i)return"continue";var s=(Array.isArray(i)?i:[i]).map((function(e){if(!ar(e=null===e?xr:e))throw new Error("Expected document in array on field ".concat(t,", got:\n").concat(JSON.stringify(e,null,2)));return Ke(e)}));n[t]=s,delete r[t]};for(var a in o)i(a)}function Er(e,r){for(var n in r)for(var t,o=r[n],i=(0,a.Z)(o);!(t=i()).done;){kr(e,t.value)}}function Hr(e,r,n,t){var o,i=null!==(o=null==t?void 0:t.writable)&&void 0!==o&&o;return new Proxy(n,{get:function(n,t){var o,a,u;if(Reflect.has(n,t)||"string"!=typeof t)return Reflect.get(n,t);var c=e.getType(null!==(o=n.__typename)&&void 0!==o?o:""),s=null==c||null===(a=c.getFields())||void 0===a?void 0:a[t],l=s&&ir(e,s.type).length>0;if(c&&s&&l){var p=(0,f.zM)(s.type),v=!vr(s.type)&&l,d=jr(n);if(null===d[t])return null;if(Array.isArray(d[t])){var h,y=d[t].map((function(e){return _r(e)?null:$e(r,e)}));return v?null!==(h=y[0])&&void 0!==h?h:null:y}if(p){if(v)return;if(i){var g=[];return n[s.name]=g,g}return Object.freeze([])}return null}return null!==(u=Reflect.get(n,t))&&void 0!==u?u:null},set:function(e,r,n){if(!i)throw new Error("Setting on data pulled from the store is not allowed, use the `mutate` method.");return Reflect.set(e,r,n)}})}function Rr(e,r){for(var n in r)Array.isArray(r[n])&&(r[n]=r[n].map((function(n){return Hr(e,r,n,{writable:!0})})))}function Mr(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function Ar(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){Mr(i,t,o,a,u,"next",e)}function u(e){Mr(i,t,o,a,u,"throw",e)}a(void 0)}))}}function Fr(e,r){return Sr.apply(this,arguments)}function Sr(){return(Sr=Ar((0,o.Z)().mark((function e(r,n){var t,i,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],i=(0,a.Z)(r);case 2:if((u=i()).done){e.next=11;break}return c=u.value,e.t0=t,e.next=7,c(n);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 9:e.next=2;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e,r){var n={};for(var t in e){var o=e[t];n[t]=o.bind(null,r)}return n}function Lr(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Zr(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Lr(Object(n),!0).forEach((function(r){Dr(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Dr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Nr(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function Gr(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){Nr(i,t,o,a,u,"next",e)}function u(e){Nr(i,t,o,a,u,"throw",e)}a(void 0)}))}}function qr(e,r,n,t,o){return Wr.apply(this,arguments)}function Wr(){return Wr=Gr((0,o.Z)().mark((function e(r,n,t,i,a){var u,c,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rr(n,r),u=[],i=Object.freeze(Zr({},i)),c=Ir(t,{schema:n,store:r,eventQueue:u}),e.next=7,Fr(i.beforeTransaction,c);case 7:return e.next=9,a(c);case 9:return f=e.sent,e.next=12,Fr(i.afterTransaction,c);case 12:return Er(n,r),e.abrupt("return",{transactionResult:f,eventQueue:u});case 14:case"end":return e.stop()}}),e)}))),Wr.apply(this,arguments)}function Cr(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function Ur(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){Cr(i,t,o,a,u,"next",e)}function u(e){Cr(i,t,o,a,u,"throw",e)}a(void 0)}))}}var Qr=function(){function e(){this.chain=Promise.resolve()}return e.prototype.enqueue=function(){var e,r=new Promise((function(r){e=r})),n=this.chain;return this.chain=this.chain.then(Ur((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:case"end":return e.stop()}}),e)})))),{previous:n,finish:e}},e}();function Br(e){var r={};if(!e)return r;var n=e.getTypeMap();for(var t in n){var o,i,a,u=n[t],c=u.name.startsWith("__"),s=[null===(o=e.getQueryType())||void 0===o?void 0:o.name,null===(i=e.getMutationType())||void 0===i?void 0:i.name,null===(a=e.getSubscriptionType())||void 0===a?void 0:a.name];!(0,f.lp)(u)||c||s.includes(u.name)||(r[u.name]=[])}return r}function Yr(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Jr(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Vr(e,r){var n=function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Yr(Object(n),!0).forEach((function(r){Jr(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({},r);for(var t in n)Array.isArray(n[t])&&(n[t]=n[t].map((function(r){return Hr(e,n,r)})),Object.freeze(n[t]));return Object.freeze(n)}var zr=function(e){function r(r){var n,t=r.typename;return(n=e.call(this)||this).name="TypeDoesNotExist",n.message='The type "'.concat(t,'" does not exist in the the graphql schema.'),n}return(0,ee.Z)(r,e),r}((0,re.Z)(Error)),Kr=function(e){function r(r){var n,t,o=r.type;return(n=e.call(this)||this).name="TypeIsNotDocumentCompatible",n.message='The type "'.concat(o.name,'" is a ').concat(null===(t=o.astNode)||void 0===t?void 0:t.kind," but cannot be represented by a document"),n}return(0,ee.Z)(r,e),r}((0,re.Z)(Error));function $r(e,r,n,t){if(!_r(r)){var o=r.__typename,i=e.getType(o);if(!i)throw new Error("Type ".concat(o," does not exist in the graphql schema."));if(!(0,f.lp)(i))throw new Kr({type:i});if(!function(e,r){return Boolean(e.getType(r))}(e,o))throw new zr({typename:o});var a,u=[].concat(t.document,[(a=t.field,{validate:function(e){var r=e.graphqlSchema,n=e.type,t=e.document,o=e.store,i=n.getFields(),u=function(e){var u=i[e],c=t[e],f=jr(t)[e];a.forEach((function(e){e.skipConnectionValue&&f||e.skipNullValue&&null==c||e.validate({type:n,field:u,document:t,fieldName:u.name,fieldValue:c,fieldConnections:f,graphqlSchema:r,store:o})}))};for(var c in i)u(c)}})]);u.forEach((function(t){return t.validate({store:n,graphqlSchema:e,document:r,type:i})}))}}var Xr=function(e){function r(r){var n,t=r.type,o=r.fieldName;return(n=e.call(this)||this).name="TypeDoesNotExist",n.message='The field "'.concat(o,'" does not exist on the type ').concat(t.name,"."),n}return(0,ee.Z)(r,e),r}((0,re.Z)(Error)),en={validate:function(e){var r=e.document,n=e.type,t=Object.keys(r),o=Object.keys(n.getFields()),i=t.find((function(e){return!o.includes(e)}));if(i)throw new Xr({type:n,fieldName:i})}};function rn(e){var r=new Error("Return values from transactions must be null, undefined, a Document, array of Document or an object with Document values");if(null==e)return e;if(ar(e))return Ke(e);if(Array.isArray(e))return e.map((function(e){if(!ar(e))throw r;return Ke(e)}));if("object"==typeof e){var n={};for(var t in e){var o=e[t];if(!ar(o))throw r;n[t]=Ke(o)}return n}throw r}function nn(e,r){var n=r.schema,t=r.store;return e===xr||null===e?null:ar(e)?Hr(n,t,e):e}function tn(e,r,n){if(null==n)return n;if("string"==typeof n)return nn($e(r,n),{store:r,schema:e});if(Array.isArray(n)){var t=n.map((function(n){return nn($e(r,n),{store:r,schema:e})}));return t}if("object"==typeof n){var o={};for(var i in n){var a=n[i],u=$e(r,a);o[i]=nn(u,{store:r,schema:e})}return o}}function on(e){if((0,c.nN)(e))return function(e){return(0,He.I)((0,Re.t3)(e))}(e);if("object"==typeof e&&"Document"===e.kind)try{return(0,He.M)(e)}catch(r){throw new Error("Unable to build a schema from the AST Schema passed into the `graphqlSchema` dependency. Failed with error:\n\n"+r.message)}if("string"==typeof e)try{return(0,He.I)(e)}catch(r){throw new Error("Unable to build a schema from the string passed into the `graphqlSchema` dependency. Failed with error:\n\n"+r.message)}throw new Error("Unable to build schema, pass in an instance of schema or a string")}var an=function(e){function r(r){var n,t=r.field,o=r.actual,i=r.expected;(n=e.call(this)||this).name="FieldReturnTypeMismatch";var a,u=t.type;return a=(0,f.HG)(u)?"[".concat(u.ofType,"]"):(0,f.zM)(u)?"".concat(u.ofType,"! (non-null)"):u.name,n.message='The field "'.concat(t.name,'" represents a graphql "').concat(a,'" type and on the document should be a ').concat(i,", but got ").concat(o),n}return(0,ee.Z)(r,e),r}((0,re.Z)(Error)),un={skipConnectionValue:!1,skipNullValue:!0,validate:function(e){var r=e.field,n=e.fieldValue,t=e.fieldConnections,o=vr(r.type);if((0,f.HG)(o)){if(n&&!Array.isArray(n))throw new an({field:r,expected:"Array",actual:typeof n});if(!(0,f.zP)(null==o?void 0:o.ofType)){var i,a=Array.isArray(n)?n.findIndex((function(e){return null==e})):-1,u=null!==(i=null==t?void 0:t.findIndex((function(e){return e===Pr})))&&void 0!==i?i:-1;if(-1!==a)throw new an({field:r,expected:"non-null list",actual:"".concat(n[a]," in the array")});if(-1!==u)throw new an({field:r,expected:"non-null list",actual:"connected null document"})}}}},cn={skipConnectionValue:!0,skipNullValue:!0,validate:function(e){var r=e.field,n=e.fieldValue;if((0,f.lp)(r.type)&&"object"!=typeof n)throw new an({field:r,expected:"object",actual:typeof n})}},fn={skipConnectionValue:!1,skipNullValue:!0,validate:function(e){var r=e.field,n=e.fieldValue;if((0,f.KA)(r.type)&&!["boolean","number","string","float"].includes(typeof n))throw new an({field:r,expected:"boolean, number, string",actual:typeof n})}},sn={skipConnectionValue:!0,skipNullValue:!0,validate:function(e){var r,n=e.type,t=e.fieldName,o=e.fieldValue,i=e.store,a=or(e.field.type),u=null!==(r=i[n.name])&&void 0!==r?r:[];if("ID"===(null==a?void 0:a.name)){var c=u.filter((function(e){return e[t]===o}));if(c.length>1){var f=c.map((function(e){return JSON.stringify(e,null,2)})).join("\n\n");throw new Error('Found duplciate documents with same ID ("'.concat(o,'") for type "').concat(n.name,'" on field "').concat(t,'":\n\n').concat(f,'"'))}}}};function ln(e,r,n,t,o,i,a){try{var u=e[i](a),c=u.value}catch(f){return void n(f)}u.done?r(c):Promise.resolve(c).then(t,o)}function pn(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){ln(i,t,o,a,u,"next",e)}function u(e){ln(i,t,o,a,u,"throw",e)}a(void 0)}))}}function vn(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function dn(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?vn(Object(n),!0).forEach((function(r){hn(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function hn(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}(0,Be.Fl)(!1);var yn=function(){function e(e,r){this.history=[],this.mutateQueue=new Qr,this.events=new EventTarget,this.validators={document:[en],field:[un,cn,fn,sn]},this.hooks={beforeTransaction:[],afterTransaction:[]};var n=on(e);this.current=Br(n),this.sourceGraphQLSchema=n,this.operations=dn(dn({},null==r?void 0:r.operations),t)}var r=e.prototype;return r.find=function(e){return $e(this.data,e)},r.clear=function(){this.current=Br(this.sourceGraphQLSchema),this.history=[]},r.validate=function(e){var r=this,n=null!=e?e:this.current;Object.values(n).forEach((function(e){e.forEach((function(e){$r(r.sourceGraphQLSchema,e,n,r.validators)}))}))},r.dispatchEvents=function(e){var r=this.events;e.forEach((function(e){return r.dispatchEvent(e)}))},r.mutate=function(e){var r=this;return pn((0,o.Z)().mark((function n(){var t,i,a,u,c,f,s,l,p,v,d;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.mutateQueue.enqueue(),i=t.previous,a=t.finish,n.next=3,i;case 3:return u=r.sourceGraphQLSchema,c=r.current,f=r.hooks,s=r.operations,p=[],n.next=10,(0,Be.Uy)(c,function(){var r=pn((0,o.Z)().mark((function r(n){var t,i,a;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,qr(n,u,s,f,e);case 2:t=r.sent,i=t.transactionResult,a=t.eventQueue,l=rn(i),p=a;case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 10:return v=n.sent,r.validate(v),d=tr(c,v),r.dispatchEvents([].concat(d,p)),r.current=v,r.history.push(v),a(),n.abrupt("return",tn(u,v,l));case 18:case"end":return n.stop()}}),n)})))()},(0,V.Z)(e,[{key:"data",get:function(){return Vr(this.sourceGraphQLSchema,this.current)}}]),e}(),gn=n(67170),mn=n(68053),bn="\n  schema {\n    query: Query\n    mutation: Mutation\n  }\n\n  type Query {\n    movies(name: String): [Movie!]!\n    characters: [Character!]!\n  }\n\n  type Mutation {\n    createFilm(name: String!, year: String!, characterIds: [String!]!): Movie!\n    createCharacter(name: String!): Character!\n  }\n\n  type Movie {\n    id: ID!\n    name: String!\n    year: String!\n    characters: [Character!]!\n  }\n\n  type Character {\n    id: ID!\n    name: String!\n  }\n",wn=n(92616);function On(){var e=new yn(bn);e.mutate((function(e){var r=e.create,n=r("Character",{name:"Mike Wazowski"}),t=r("Character",{name:"Boo"}),o=r("Character",{name:"Joe Gardner"}),i=r("Character",{name:"Moonwind"});r("Movie",{name:"Monsters, Inc.",characters:[t,n],year:"2001"}),r("Movie",{name:"Soul",characters:[o,i],year:"2020"})}));var r=we({wrappers:[mn.nv],highlight:function(e){return e.include((0,wn.EP)(["*","*"]))}});return new qe({resolverMap:{Query:{movies:function(e,r,n){var t=(0,gn.tW)(n,["paper"]).paper.data.Movie;return r.name&&(t=t.filter((function(e){var n;return null==e||null==(n=e.name)?void 0:n.startsWith(r.name)}))),t}},Mutation:{create:function(e,r,n){var t=r.name,o=r.year,i=r.characterIds;return(0,gn.tW)(n,["paper"]).paper.mutate((function(e){var r=e.create,n=(0,e.getStore)(),a=i.map((function(e){return n.data.Character.find((function(r){return r.id===e}))})).filter(Boolean);return r("Movie",{name:t,year:o,characters:a})}))},createCharacter:function(e,r,n){var t=r.name;return(0,gn.tW)(n,["paper"]).paper.mutate((function(e){return(0,e.create)("Character",{name:t})}))}}},middlewares:[r],dependencies:{graphqlSchema:bn,paper:e}})}},40413:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941);r.hasListType=function(e){return t.isListType(e)||t.isNonNullType(e)&&t.isListType(e.ofType)}},36230:function(e,r,n){n.r(r);var t=n(42495);Object.defineProperty(r,"__esModule",{value:!0});var o=n(26514),i=n(66369),a=n(93377),u=n(42935),c=n(76911),f=n(78068),s=n(26999),l=n(99804),p=n(34770),v=n(70060),d=["Int","Float","String","Boolean","ID"],h=function(){function e(e,r){var n;this.schema=e,r=null!==(n=r)&&void 0!==n?n:[],this.validate(r),this.references=r}var r=e.prototype;return r.include=function(){for(var e=i.include,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o=n.map(f.convertHighlighterOrReferenceToHighlighter).filter(Boolean),a=this.applyHighlighters(e,o);return this.validate(a),this.clone(a)},r.exclude=function(){for(var e=a.exclude,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o=n.map(f.convertHighlighterOrReferenceToHighlighter).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)},r.filter=function(){for(var e=u.filter,r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];var o=n.map(f.convertHighlighterOrReferenceToHighlighter).filter(Boolean),i=this.applyHighlighters(e,o);return this.validate(i),this.clone(i)},r.clone=function(r){return new e(this.schema,r)},r.applyHighlighters=function(e,r){var n=this.schema,t=o.clone(this.references),i=r.reduce((function(r,t){var o=t.mark(n);return e(r,o)}),t).filter((function(e){var r;return p.isFieldReference(e)&&(r=e[0]),v.isTypeReference(e)&&(r=e),!r||!r.startsWith("__")&&!d.includes(r)}));return i=l.unique(i)},r.validate=function(e){var r=this,n=e.map((function(e){return c.validate(r.schema,e)})).filter(Boolean);if(0!==n.length)throw new c.ValidationError(n)},(0,t.Z)(e,[{key:"instances",get:function(){var e=this.schema;return{types:s.buildReferenceMap(e,this.references)}}}]),e}();exports.Highlight=h,exports.hi=function(e,r){return new h(e,r)}},21671:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.combine=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{mark:function(e){var n,t=r.map((function(r){return r.mark(e)}));return(n=[]).concat.apply(n,t)}}}},66627:function(e,r){Object.defineProperty(r,"__esModule",{value:!0});r.HIGHLIGHT_ALL="*",r.HIGHLIGHT_ROOT_MUTATION="<ROOT_MUTATION_TYPE>",r.HIGHLIGHT_ROOT_QUERY="<ROOT_QUERY_TYPE>"},11474:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941),o=n(66627);function i(e,r){return[].concat(e,r)}var a=function(){function e(e){0===e.length&&(e=[[o.HIGHLIGHT_ALL,o.HIGHLIGHT_ALL]]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(r,n){return n.map((function(n){return e.expandTarget(r,n)})).reduce(i,[])},e.expandTarget=function(e,r){var n,a=this,u=r[0],c=r[1];if(u===o.HIGHLIGHT_ALL){var f=Object.values(e.getTypeMap()).filter((function(e){return!e.name.startsWith("__")})).map((function(r){return r&&"getFields"in r&&!t.isInputType(r)?a.expandTarget(e,[r.name,c]):void 0})).filter(Boolean).reduce(i,[]);return f}var s=e.getType(u);if(!s)return[];if(u===o.HIGHLIGHT_ROOT_QUERY){var l=e.getQueryType();if(!l)return[];s=l}if(u===o.HIGHLIGHT_ROOT_MUTATION){var p=e.getMutationType();if(!p)return[];s=p}if(!s||!(null===(n=s)||void 0===n?void 0:n.name)||!("getFields"in s))return[];var v=s.getFields();return(c===o.HIGHLIGHT_ALL?Object.keys(v):[c]).filter((function(e){return Object.keys(v).includes(e)})).map((function(e){var r;return(null===(r=s)||void 0===r?void 0:r.name)&&e?[s.name,e]:void 0})).filter(Boolean)},e}();r.FieldHighlighter=a,r.field=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new a(r)}},54808:function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.resolverMap=e}return e.prototype.mark=function(){var e=[],r=this.resolverMap;if("object"!=typeof r)return[];for(var n in r)for(var t in e.push(n),r[n])"__resolveType"!==t&&e.push([n,t]);return e},e}();r.fromResolverMap=function(e){return new n(e)}},42977:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941);n(26514);var o=n(82286),i=n(66627),a=n(11474),u=function(){function e(e){0===e.length&&(e=[[i.HIGHLIGHT_ALL,i.HIGHLIGHT_ALL]]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n=Object.values(e.getTypeMap()).filter(t.isInterfaceType),i=a.field.apply(a,r).mark(e),u=n.flatMap((function(e){var r=e.name,n=Object.values(e.getFields()).map((function(e){var n=e.name;return[r,n]}));return[].concat(n)}));return u.filter((function(e){var r=i.find((function(r){return o.isEqual(r,e)}));return Boolean(r)}))},e}();r.InterfaceFieldHighlighter=u,r.interfaceField=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new u(r)}},67315:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941),o=n(66627),i=function(){function e(e){0===e.length&&(e=[o.HIGHLIGHT_ALL]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n=Object.values(e.getTypeMap()).filter(t.isInterfaceType).map((function(e){return e.name}));return r.includes(o.HIGHLIGHT_ALL)?n:n.filter((function(e){return r.includes(e)}))},e}();r.InterfaceHighlighter=i,r.interfaces=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new i(r)}},92849:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(77082);r.reference=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return{mark:function(){return r.filter(t.isReference)}}}},68408:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941),o=n(66627),i=n(26514);function a(e,r){return[].concat(e,r)}function u(e){var r,n;e=e.trim();try{n=t.parse("\n    type Noop {\n      noop: "+e+"\n    }\n  ")}catch(i){return}var o=n.definitions[0];return(null==o||null===(r=o.fields)||void 0===r?void 0:r[0]).type}function c(e,r){if(e&&"type"in e&&(r&&"type"in r)&&e.kind===r.kind)return c(e.type,r.type);if("object"==typeof e&&"object"==typeof r){var n=i.evolve({loc:function(){},name:i.omit(["loc"])});return i.equals(n(e),n(r))}return!1}var f=function(){function e(e){0===e.length&&(e=[o.HIGHLIGHT_ALL]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(r,n){return n.includes(o.HIGHLIGHT_ALL)?e.allFieldResolvables(r):n.map(u).filter(Boolean).map((function(n){return e.expandTarget(r,n)})).reduce(a,[])},e.expandTarget=function(e,r){return Object.values(e.getTypeMap()).filter(t.isObjectType).map((function(e){return Object.values(e.getFields()).reduce((function(n,t){var o,i=null===(o=t.astNode)||void 0===o?void 0:o.type;return c(r,i)&&n.push([e.name,t.name]),n}),[])})).reduce(a,[])},e.allFieldResolvables=function(e){return Object.values(e.getTypeMap()).filter(t.isObjectType).filter((function(e){return!e.name.startsWith("__")})).map((function(e){return Object.values(e.getFields()).map((function(r){return"resolve"in r&&[e.name,r.name]}))})).reduce(a,[]).filter(Boolean)},e}();r.ResolvesToHighlighter=f,r.resolvesTo=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new f(r)}},55800:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(66627),o=function(){function e(e){0===e.length&&(e=[t.HIGHLIGHT_ALL]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n,o,i=Object.keys(e.getTypeMap());if(r.includes(t.HIGHLIGHT_ALL))return i;var a=r.includes(t.HIGHLIGHT_ROOT_QUERY),u=r.includes(t.HIGHLIGHT_ROOT_MUTATION);r=r.filter((function(e){return e!==t.HIGHLIGHT_ROOT_QUERY&&e!==t.HIGHLIGHT_ROOT_MUTATION}));var c=null===(n=e.getQueryType())||void 0===n?void 0:n.name;c&&a&&r.push(c);var f=null===(o=e.getMutationType())||void 0===o?void 0:o.name;return f&&u&&r.push(f),r.filter((function(e){return i.includes(e)}))},e}();r.TypeHighlighter=o,r.type=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new o(r)}},30276:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941),o=n(66627),i=function(){function e(e){0===e.length&&(e=[o.HIGHLIGHT_ALL]),this.targets=e}return e.prototype.mark=function(r){return e.expandTargets(r,this.targets)},e.expandTargets=function(e,r){var n=Object.values(e.getTypeMap()).filter(t.isUnionType).map((function(e){return e.name}));return r.includes(o.HIGHLIGHT_ALL)?n:n.filter((function(e){return r.includes(e)}))},e}();r.UnionHighlighter=i,r.union=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new i(r)}},92616:function(e,r,n){var t=n(36230),o=n(21671),i=n(11474),a=n(54808),u=n(67315),c=n(42977),f=n(92849),s=n(68408),l=n(55800),p=n(30276),v=n(66627),d=n(11941),h=n(1893);t.Highlight,t.hi,o.combine,r.EP=i.field,a.fromResolverMap,u.interfaces,c.interfaceField,f.reference,s.resolvesTo,l.type,p.union,v.HIGHLIGHT_ALL,v.HIGHLIGHT_ROOT_MUTATION,v.HIGHLIGHT_ROOT_QUERY},93377:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(26514),o=n(82286);r.exclude=function(e,r){return t.differenceWith(o.isEqual)(e,r)}},42935:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(82286);r.filter=function(e,r){return e.filter((function(e){return Boolean(r.find((function(r){return t.isEqual(r,e)})))}))}},66369:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.include=function(e,r){return[].concat(e,r)}},1893:function(){},26999:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(70060),o=n(24719),i=n(34770),a=n(30390);r.buildReferenceMap=function(e,r){var n={};return r.filter(t.isTypeReference).map((function(r){return o.getTypeForReference(e,r)})).forEach((function(e){e&&(n[e.name]={type:e})})),r.filter(i.isFieldReference).map((function(r){var n=r[0],t=r[1];return[n,a.getFieldForReference(e,[n,t])]})).forEach((function(r){var t=r[0],i=r[1];if(i){var a,u,c=o.getTypeForReference(e,t);if(!c)return;if(n[t]=null!==(a=n[t])&&void 0!==a?a:{type:c},!i)return;n[t].fields=null!==(u=n[t].fields)&&void 0!==u?u:{},n[t].fields[i.name]=i}})),n}},42332:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(36230),o=n(92849);r.coerceHighlight=function(e,r){if(r instanceof t.Highlight)return r;if(Array.isArray(r))return new t.Highlight(e).include(o.reference.apply(o,r));if("function"==typeof r)return r(new t.Highlight(e));throw new Error("Unable to coerce highlight, got "+typeof r+". Must be either an array of References, a callback that receives a Highlight instance, or a Highlight instance")}},78068:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(70060),o=n(34770),i=n(92263),a=n(92849);r.convertHighlighterOrReferenceToHighlighter=function(e){return t.isTypeReference(e)||o.isFieldReference(e)?a.reference(e):i.isHighlighter(e)?e:void 0}},30390:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.getFieldForReference=function(e,r){var n=r[0],t=r[1],o=e.getType(n);if(o&&"getFields"in o)return o.getFields()[t]}},85445:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941),o=n(70060),i=n(24719),a=n(34770),u=n(30390);r.getInstanceForReference=function(e,r){if(o.isTypeReference(r))return i.getTypeForReference(e,r);if(a.isFieldReference(r)){var n=r[0],c=r[1],f=i.getTypeForReference(e,n),s=u.getFieldForReference(e,[n,c]);if(t.isObjectType(f)&&s)return[f,s];if(t.isInputObjectType(f)&&s)return[f,s]}}},24719:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(70060),o=n(34770);r.getTypeForReference=function(e,r){var n;if(t.isTypeReference(r))return null!==(n=e.getType(r))&&void 0!==n?n:void 0;if(o.isFieldReference(r)){var i,a=r[0];return null!==(i=e.getType(a))&&void 0!==i?i:void 0}}},11941:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(42332),o=n(30390),i=n(85445),a=n(24719),u=n(82286),c=n(34770),f=n(92263),s=n(77082),l=n(70060),p=n(99804),v=n(42572);r.coerceHighlight=t.coerceHighlight,r.getFieldForReference=o.getFieldForReference,r.getInstanceForReference=i.getInstanceForReference,r.getTypeForReference=a.getTypeForReference,r.isEqual=u.isEqual,r.isFieldReference=c.isFieldReference,r.isHighlighter=f.isHighlighter,r.isReference=s.isReference,r.isTypeReference=l.isTypeReference,r.unique=p.unique,r.walk=v.walk},82286:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isEqual=function(e,r){return e===r||Array.isArray(e)&&Array.isArray(r)&&e[0]===r[0]&&e[1]===r[1]}},34770:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isFieldReference=function(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]}},92263:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isHighlighter=function(e){return"object"==typeof e&&null!=e&&"mark"in e&&"function"==typeof e.mark}},77082:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(70060),o=n(34770);r.isReference=function(e){return o.isFieldReference(e)||t.isTypeReference(e)}},70060:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.isTypeReference=function(e){return"string"==typeof e}},99804:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(26514);r.unique=function(e){var r=[];return e.forEach((function(e){r.find((function(r){return t.equals(e,r)}))||r.push(e)})),r}},76911:function(e,r,n){n.r(r);var t=n(22674),o=n(41702);Object.defineProperty(r,"__esModule",{value:!0});var i=n(70060),a=n(34770),u=n(24719),c=n(30390);var f=function(e){function r(r){var n="References failed validation with errors:\n"+r.map((function(e){return" * "+e.message})).join("\n");return e.call(this,n)||this}return(0,t.Z)(r,e),r}((0,o.Z)(Error));exports.ValidationError=f,exports.validate=function(e,r){var n=JSON.stringify(r);return i.isTypeReference(r)||a.isFieldReference(r)?i.isTypeReference(r)&&!u.getTypeForReference(e,r)?new Error("Type Reference "+n+" could not be found in the GraphQLSchema"):a.isFieldReference(r)&&!c.getFieldForReference(e,r)?new Error("Field Reference "+n+" could not be found in the GraphQLSchema"):null:new Error("Reference "+n+' is not a valid type reference `"TypeName"` or valid field reference `["TypeName", "fieldName"]`')}},42572:function(e,r,n){n.r(r);var t=n(17180),o=n(80624),i=n(67927);Object.defineProperty(r,"__esModule",{value:!0});var a=n(24719),u=n(30390);function c(){return(c=(0,i.Z)((0,t.Z)().mark((function e(r,n,i){var c,f,s,l,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=(0,o.Z)(n);case 1:if((f=c()).done){e.next=15;break}if(s=f.value,Array.isArray(n)){e.next=5;break}throw new Error("Expected an array of references, got "+typeof n);case 5:if("function"==typeof i){e.next=7;break}throw new Error("Expected callback to be a function, got "+typeof i);case 7:if(l=a.getTypeForReference(r,s),p=u.getFieldForReference(r,s),l){e.next=11;break}return e.abrupt("continue",13);case 11:return e.next=13,i({reference:s,type:l,field:p});case 13:e.next=1;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.walk=function(e,r,n){return c.apply(this,arguments)}},42328:function(e,r,n){n.r(r);var t=n(17180),o=n(67927);Object.defineProperty(r,"__esModule",{value:!0});var i=n(9941),a=n(74381);function u(e){return e&&"name"in e&&"wrap"in e}function c(e,r,n){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)((0,t.Z)().mark((function e(r,n,o){var f,s,l,p,v,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[].concat(n),f=n.shift(),"function"==typeof r){e.next=4;break}throw new Error("Resolver for wrapResolver must be a function, got "+typeof r);case 4:if(f){e.next=6;break}return e.abrupt("return",r);case 6:if(s=f.name||"UNNAMED",!u(f)){e.next=16;break}if(s=(l=f).name,(p=l.wrapperFor)!==a.WrapperFor.FIELD||i.isObjectType(o.type)){e.next=13;break}throw new Error('Wrapper "'+s+'" is for FIELD resolvers and can\'t wrap ["'+o.type.name+'", "'+(null===(v=o.field)||void 0===v?void 0:v.name)+'"].');case 13:if(p!==a.WrapperFor.TYPE||i.isAbstractType(o.type)){e.next=15;break}throw new Error('Wrapper "'+s+'" is for TYPE resolvers and can\'t wrap ["'+o.type.name+'"].');case 15:f=f.wrap.bind(f);case 16:return e.next=18,f(r,o);case 18:if("function"==typeof(d=e.sent)){e.next=21;break}throw new Error('Wrapper "'+s+'" was not a function or did not have a wrap method, got '+typeof d+".");case 21:return e.abrupt("return",c(d,n,o));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.applyWrappers=c},74381:function(e,r){Object.defineProperty(r,"__esModule",{value:!0});r.WrapperFor={TYPE:"TYPE",FIELD:"FIELD",ANY:"ANY"}},11229:function(e,r,n){n.r(r);var t=n(17180),o=n(67927);function i(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?i(Object(n),!0).forEach((function(r){u(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}Object.defineProperty(r,"__esModule",{value:!0});var c=n(9941),f=n(74381);function s(e,r){return Boolean(c.isObjectType(e)&&r)}function l(e,r){return Boolean(c.isAbstractType(e)&&r)}var p=function(){function e(e,r,n){if("string"!=typeof e)throw new Error("Specify a string for the name argument for createWrapper");this.name=e,this.wrapper=n,this.wrapperFor=r}return e.prototype.wrap=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r,n){var o,i,u,c,p,v,d,h,y,g,m,b,w;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.type,i=n.field,u=this.wrapper,c=this.wrapperFor,!s(o,p={resolver:r,wrapper:u,options:n})||!i||c!==f.WrapperFor.FIELD){e.next=10;break}return v=p.wrapper,d=p.resolver,h=p.options,y=a(a({},h),{},{type:h.type,field:h.field}),e.abrupt("return",v(d,y));case 10:if(!l(o,p)||i||c!==f.WrapperFor.TYPE){e.next=16;break}return g=p.wrapper,m=p.resolver,b=p.options,w=a(a({},b),{},{type:o,field:void 0}),e.abrupt("return",g(m,w));case 16:if(c!==f.WrapperFor.ANY){e.next=18;break}return e.abrupt("return",u(r,n));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}(),e}();exports.createWrapper=function(e,r,n){return new p(e,r,n)}},32907:function(e,r){function n(e){var r,n;return null!==(r=null==e||null===(n=e.pack)||void 0===n?void 0:n.dependencies)&&void 0!==r?r:{}}Object.defineProperty(r,"__esModule",{value:!0}),r.extractAllDependencies=n,r.extractDependencies=function(e,r,t){void 0===t&&(t={required:!0});var o=n(e);if(!Array.isArray(r)||0===r.length)return o;(t="object"!=typeof t?{required:!0}:t).required=!("required"in t)||t.required;var i={},a=[];if(r.forEach((function(e){var r,n=o[e];(null===(r=t)||void 0===r?void 0:r.required)&&null==n&&a.push(e.toString()),i[e]=n})),a.length>0){var u=a.map((function(e){return'"'+e+'"'})).join(", ");throw new Error("Expected to find dependencies with keys: "+u+"\nEither:\n * Add these to `dependencies` to your `GraphQLHandler` class or `pack` function\n * Use { required : false } as the third argument to `extractDependencies` and allow for these to be optional dependencies")}return i}},67170:function(e,r,n){var t=n(32907),o=n(42328),i=n(11229),a=n(74381),u=n(68864),c=n(2925);t.extractAllDependencies,r.tW=t.extractDependencies,o.applyWrappers,i.createWrapper,a.WrapperFor},2925:function(){},88154:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(40413);n(9941);var o=n(85283),i=n(58484);r.coerceReturnType=function(e,r){return e=t.hasListType(r.returnType)?i.coerceToList(e):o.coerceSingular(e)}},85283:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coerceSingular=function(e){return Array.isArray(e)?1===e.length?e[0]:0===e.length?null:e:e}},58484:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.coerceToList=function(e){return null==e?[]:Array.isArray(e)?e:[e]}},68864:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(88154),o=n(85283),i=n(58484),a=n(87177),u=n(40373);r.coerceReturnType=t.coerceReturnType,r.coerceSingular=o.coerceSingular,r.coerceToList=i.coerceToList,r.isFieldResolver=a.isFieldResolver,r.isTypeResolver=u.isTypeResolver},87177:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941);r.isFieldResolver=function(e,r){return Boolean(t.isObjectType(e)&&r)}},40373:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(9941);r.isTypeResolver=function(e,r){return Boolean(t.isAbstractType(e)&&r)}},46631:function(e,r,n){n.r(r);var t=n(17180),o=n(67927);Object.defineProperty(r,"__esModule",{value:!0}),n(9941);var i=n(74381),a=n(11229);exports.debuggerWrapper=function(e){var r=void 0===e?{before:!0,after:!0}:e;return r.before,r.after,a.createWrapper("debugger-wrapper",i.WrapperFor.ANY,(function(e,r){return(0,o.Z)((0,t.Z)().mark((function r(){var n,o=arguments;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.apply(void 0,o),r.abrupt("return",n);case 4:case"end":return r.stop()}}),r)})))}))}},68053:function(e,r,n){var t=n(55929),o=n(33541),i=n(53384),a=n(46631);r.nv=t.logWrapper,o.stashFor,o.stashStateWrapper,i.latencyWrapper,a.debuggerWrapper},53384:function(e,r,n){n.r(r);var t=n(17180),o=n(67927);Object.defineProperty(r,"__esModule",{value:!0}),n(9941);var i=n(74381),a=n(11229);function u(e){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,r)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}exports.latencyWrapper=function(e){void 0===e&&(e=0);var r,n,c=Array.isArray(e)?(r=e[0],n=e[1],r=Math.ceil(r),n=Math.floor(n),Math.round(Math.random()*(n-r)+r)):e;return a.createWrapper("latency-wrapper",i.WrapperFor.ANY,(function(e,r){return(0,o.Z)((0,t.Z)().mark((function r(){var n=arguments;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u(c);case 2:return r.abrupt("return",e.apply(void 0,n));case 3:case"end":return r.stop()}}),r)})))}))}},55929:function(e,r,n){n.r(r);var t=n(17180),o=n(67927);Object.defineProperty(r,"__esModule",{value:!0}),n(9941);var i=n(74381),a=n(11229),u=n(87177),c=n(40373),f=a.createWrapper("log-wrapper",i.WrapperFor.ANY,function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r,n){var i,a,f,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.type,a=n.field,!u.isFieldResolver(n.type,r)){e.next=4;break}return f=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,o,u,c){var f,s,l,p,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=[n,o].map((function(e){try{return JSON.stringify(e,null,2)}catch(r){return"Unable to JSON.stringify"}})),s=f[0],l=f[1],console.log("--- START: field resolver on "+i.name+"."+(null==a?void 0:a.name)+" ---"),console.log(""),console.log("parent:"),console.log(s),console.log(""),console.log("args:"),console.log(l),console.log(""),e.next=11,r(n,o,u,c);case 11:return p=e.sent,v=JSON.stringify(p,null,2),console.log("result:"),console.log(v),console.log(""),console.log("--- END: field resolver on "+i.name+"."+(null==a?void 0:a.name)+" ---"),e.abrupt("return",p);case 18:case"end":return e.stop()}}),e)})));return function(r,n,t,o){return e.apply(this,arguments)}}(),e.abrupt("return",f);case 4:if(!c.isTypeResolver(n.type,r)){e.next=7;break}return s=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n,o,a,u){var c,f,s,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[n].map((function(e){try{return JSON.stringify(e,null,2)}catch(r){return"Unable to JSON.stringify"}})),f=c[0],console.log("--- START: type resolver on "+i.name+" ---"),console.log(""),console.log("value:"),console.log(f),console.log(""),e.next=8,r(n,o,a,u);case 8:return s=e.sent,l=JSON.stringify(s,null,2),console.log("result:"),console.log(l),console.log(""),console.log("--- END: type resolver on "+i.name+" ---"),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(r,n,t,o){return e.apply(this,arguments)}}(),e.abrupt("return",s);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}());exports.logWrapper=f},33541:function(e,r,n){n.r(r);var t=n(17180),o=n(67927);Object.defineProperty(r,"__esModule",{value:!0}),n(9941);var i=n(74381),a=n(11229),u=Symbol("stash-state");var c=a.createWrapper("stash-state",i.WrapperFor.FIELD,function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(e,n,t,o){var i=r(e,n,t,o);if("object"==typeof i&&null!==i){var a={parent:e,args:n,context:t,info:o,result:i};i[u]=a}return i}));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());exports.stashFor=function(e){return e&&e[u]},exports.stashKey=u,exports.stashStateWrapper=c}}]);